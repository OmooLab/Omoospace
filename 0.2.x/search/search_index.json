{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Index","text":"<p>\u4e2d\u6587\u6587\u6863</p>"},{"location":"#omoospace","title":"Omoospace","text":"<p>Omoospace is a set of principles for building folder structures for creative work. Its goals are universality, flexibility, and semantic clarity. It works for complex projects and team collaboration, as well as simple projects and individual work. Why Omoospace?</p>"},{"location":"#getting-started","title":"Getting Started","text":""},{"location":"#new-project","title":"New Project","text":"<ol> <li>Create a new folder as the project root.</li> <li>Create <code>Omoospace.yml</code> in the root.</li> <li>Create <code>Contents/</code> in the root and put your resource files in it.</li> <li>(Optional) Create <code>Subspaces/</code> in the root and put your source files in it.</li> <li>(Optional) Add other folders as needed and place the corresponding file types in them.</li> </ol>"},{"location":"#existing-project","title":"Existing Project","text":"<ol> <li>Create <code>Omoospace.yml</code> in the project root.</li> <li> <p>Edit <code>Omoospace.yml</code> and add:     <pre><code>contents_dir: &lt;resource_folder_name&gt;\n</code></pre>     Example:     <pre><code>contents_dir: Assets\n</code></pre></p> </li> <li> <p>(Optional) Edit <code>Omoospace.yml</code> and add:     <pre><code>subspaces_dir: &lt;source_folder_name&gt;\n</code></pre>     Example:     <pre><code>subspaces_dir: ProjectFiles\n</code></pre></p> </li> </ol>"},{"location":"#command-line-tool","title":"Command Line Tool","text":""},{"location":"#install-uv","title":"Install uv","text":"<p>https://docs.astral.sh/uv/getting-started/installation/</p>"},{"location":"#new-project_1","title":"New Project","text":"<pre><code>uvx omoospace create &lt;Name&gt;\n</code></pre>"},{"location":"#existing-project_1","title":"Existing Project","text":"<pre><code>cd &lt;project folder&gt;\nuvx omoospace init\n</code></pre>"},{"location":"contribution/","title":"Contribution","text":""},{"location":"contribution/#installation","title":"Installation","text":"<p>Install uv </p> <p>https://docs.astral.sh/uv/getting-started/installation/</p> <p>Install Dependencies</p> <pre><code>uv sync\n</code></pre>"},{"location":"contribution/#other-commands","title":"Other Commands","text":"<p>Test Coverage</p> <pre><code>uv run pytest tests/\n</code></pre> <p>Server Mkdocs <pre><code>uv run mkdocs serve\n</code></pre></p> <p>Deploy Github Pages</p> <pre><code>uv run mike deploy --push --update-aliases 0.2.x latest\n</code></pre> <p>Publish to Pypi</p> <pre><code>uv build\nuv publish\n</code></pre>"},{"location":"develop/","title":"Develop Addon with Python","text":""},{"location":"develop/#add-dependencies","title":"Add dependencies","text":"<p>omoospace requires Python version 3.10 or above.</p> <pre><code>uv add omoospace\n</code></pre>"},{"location":"develop/#how-to-use","title":"How to use","text":""},{"location":"develop/#omoospace","title":"Omoospace","text":"<pre><code>from omoospace import create_omoospace, Opath\n\nomoospace = create_omoospace(\n    \"new project\", \n    under=\"temp\", \n    brief=\"A new project for testing.\"\n)\n\n# the name conversion rule is:\n# 1. convert to \"PascalCase\"\n# 2. remove special characters and spaces\n\n# so the name \"new project\" is converted to \"NewProject\"\n# \"NewProject\" is also the project folder name\nassert omoospace.name == \"NewProject\"\nassert omoospace.root_dir == Opath(\"temp\", \"NewProject\")\nassert omoospace.subspaces_dir == Opath(\"temp\", \"NewProject\", \"Subspaces\")\nassert omoospace.contents_dir == Opath(\"temp\", \"NewProject\", \"Contents\")\nassert omoospace.profile_file == Opath(\"temp\", \"NewProject\", \"Omoospace.yml\")\n\n# a empty project is created.\nassert omoospace.brief == \"A new project for testing.\"\nassert len(omoospace.subspaces) == 0\n\n# %$ is not allowed as a omoospace name.\nwith pytest.raises(ValueError):\n    create_omoospace(\"%$\", under=\"temp\")\n</code></pre> <p>Example omoospace:</p> <pre><code>Project01\n\u251c\u2500\u2500 Contents\n\u251c\u2500\u2500 AssetA.blend\n\u251c\u2500\u2500 AssetB\n\u2502   \u251c\u2500\u2500 001-ModelAssetB.zpr\n\u2502   \u251c\u2500\u2500 002-TextureAssetB.spp\n\u2502   \u2570\u2500\u2500 003-RenderAssetB.blend\n\u251c\u2500\u2500 AssetC\n\u2502   \u251c\u2500\u2500 AssetC.blend\n\u2502   \u251c\u2500\u2500 PartA.blend\n\u2502   \u2570\u2500\u2500 PartB.blend\n\u2570\u2500\u2500 Omoospace.yml\n</code></pre> <pre><code>from omoospace import Omoospace, Opath\n\nomoospace = Omoospace(\"ProjectRoot\")\nassert omoospace.root_dir == Opath(\"ProjectRoot\")\nassert omoospace.subspaces_dir == Opath(\"ProjectRoot\")\nassert omoospace.contents_dir == Opath(\"ProjectRoot\", \"Contents\")\nassert omoospace.profile_file == Opath(\"ProjectRoot\", \"Omoospace.yml\")\nassert omoospace.contents_dir.is_dir()\nassert omoospace.subspaces_dir.is_dir()\nassert omoospace.profile_file.is_file()\n\nassert len(omoospace.subspaces) == 9\nobjective_tree = omoospace.objective_tree\nassert objective_tree.count == 8\nprint(objective_tree.format())\n\n# Project01\n# \u251c\u2500\u2500 AssetA\n# \u251c\u2500\u2500 AssetB\n# \u2502   \u251c\u2500\u2500 001-ModelAssetB\n# \u2502   \u251c\u2500\u2500 002-TextureAssetB\n# \u2502   \u2570\u2500\u2500 003-RenderAssetB\n# \u2570\u2500\u2500 AssetC\n#     \u251c\u2500\u2500 PartA.blend\n#     \u2570\u2500\u2500 PartB.blend\n\nfor o in objective_tree:\n    if o.name == \"AssetA\":\n        assert len(o.subspaces) == 1\n        assert len(o.children) == 0\n    elif o.name == \"AssetB\":\n        assert len(o.subspaces) == 1\n        assert len(o.children) == 3\n    elif o.name == \"AssetC\":\n        assert len(o.subspaces) == 2\n        assert len(o.children) == 2\n</code></pre>"},{"location":"develop/#subspace","title":"Subspace","text":"<p>Example omoospace:</p> <pre><code>Project02\n\u251c\u2500\u2500 Contents\n\u251c\u2500\u2500 Subspaces\n\u2502   \u251c\u2500\u2500 Heart.blend\n\u2502   \u251c\u2500\u2500 Heart_v001.blend\n\u2502   \u251c\u2500\u2500 Heart_Valves.blend\n\u2502   \u251c\u2500\u2500 Heart_Valves_v001_autosave.spp\n\u2502   \u2570\u2500\u2500 Liver.zpr\n\u2570\u2500\u2500 Omoospace.yml\n</code></pre> <pre><code>from omoospace import Omoospace, Opath\n\nomoospace = Omoospace('path/to/Project')\nmake_heart = omoospace.add_subspace(name=\"heart\")\n\n# \"add_subspace\" will collect subspaces that has same objective.\n# All files except \"Liver.zpr\" will move to Heart/\nassert Opath(omoospace.subspaces_dir, \"Heart/Heart.blend\").exists()\nassert Opath(omoospace.subspaces_dir, \"Heart/Heart.v001.blend\").exists()\nassert Opath(omoospace.subspaces_dir, \"Heart/Heart_Valves.spp\").exists()\nassert Opath(omoospace.subspaces_dir, \"Heart/Heart_Valves.v001.spp\").exists()\nassert Opath(omoospace.subspaces_dir, \"Liver.zpr\").exists()\n\nassert len(make_heart.subspaces) == 5\nassert \"Heart\" in make_heart.subspaces\nassert \"Heart/Heart.blend\" in make_heart.subspaces\nassert \"Heart/Heart.v001.blend\" in make_heart.subspaces\nassert \"Heart/Heart_Valves.spp\" in make_heart.subspaces\nassert \"Heart/Heart_Valves.v001.spp\" in make_heart.subspaces\n\n# Add subspace under heart.\nmake_valves = omoospace.add_subspace(\"valves\", under=make_heart)\nassert make_valves.pathname == \"Heart_Valves\"\nassert len(make_heart.subspaces) == 6\n\n# Heart_Valves.spp not move to Heart/Valves/\nassert Opath(omoospace.subspaces_dir, \"Heart/Heart_Valves.spp\").exists()\nassert Opath(omoospace.subspaces_dir, \"Heart/Heart_Valves.v001.spp\").exists()\n</code></pre> <pre><code>from omoospace import extract_pathname\n\nassert extract_pathname(\"Sc010_AssetA.blend\") == \"Sc010_AssetA\"\nassert extract_pathname(\"SQ010/AssetA.blend\") == \"Sc010_AssetA\"\nassert extract_pathname(\"Sc010_Shot0100/AssetA.blend\") == \"Sc010_AssetA\"\nassert extract_pathname(\"Sc010_Shot0100/Shot0100_AssetA.blend\") == \"Sc010_Shot0100_AssetA\"\nassert extract_pathname(\"Sc010_Shot0100/Sc010_Shot0100_AssetA.blend\") == \"Sc010_Shot0100_AssetA\"\nassert extract_pathname(\"PartA/AssetA_PartA.blend\") == \"PartA_AssetA_PartA\"\nassert extract_pathname(\"AssetA.001.blend\") == \"AssetA\"\nassert extract_pathname(\"AssetA.v001.blend\") == \"AssetA\"\nassert extract_pathname(\"Asset-A.v001.blend\") == \"Asset-A\"\nassert extract_pathname(\"AssetA.v001.autosave.blend\") == \"AssetA\"\nassert extract_pathname(\"\u5934\u9aa8/\u5934\u9aa8.blend\") == \"\u5934\u9aa8\"\nassert extract_pathname(\"Asset A/AssetA.blend\") == \"AssetA\"\nassert extract_pathname(\"AssetA_AssetA.blend\") == \"AssetA_AssetA\"\n</code></pre>"},{"location":"develop/#maker","title":"Maker","text":"<pre><code># read makers\nmaker = omoospace.get_maker(\"\u9a6c\u5357001\")\nassert maker.email == \"manan001@example.com\"\nassert maker.website == \"https://www.manan.com\"\nmaker = omoospace.get_maker(\"\u9a6c\u5357002\")\nassert maker.email == \"manan002@example.com\"\nassert maker.website == None\nmaker.website = \"https://www.manan2.com\"\nassert maker.website == \"https://www.manan2.com\"\nassert maker.email == \"manan002@example.com\"\nmaker = omoospace.get_maker(\"\u5076\u9b54\u6570\u5b57\")\nassert maker.email == None\nassert maker.website == \"https://www.omoolab.xyz\"\n\n# add maker\nmaker = omoospace.add_maker(\"icrdr\")\nassert len(omoospace.makers) == 4\nassert \"icrdr\" in omoospace.makers\nassert omoospace.makers == [\"\u9a6c\u5357001\", \"\u9a6c\u5357002\", \"\u5076\u9b54\u6570\u5b57\", \"icrdr\"]\n</code></pre>"},{"location":"develop/#tool","title":"Tool","text":"<pre><code>tool = omoospace.get_tool(\"Blender\")\nassert tool.version == \"4.2.0\"\nassert tool.website == \"https://www.blender.org\"\nassert tool.extensions == [\"Omoospace\", \"BioxelNodes\"]\n\ntool = omoospace.get_tool(\"Houdini\")\nassert tool.version == \"20.0.0\"\nassert tool.website == None\ntool.version = \"21.0.0\"\nassert tool.version == \"21.0.0\"\nassert tool.website == None\ntool.website = \"https://www.houdini.com\"\nassert tool.version == \"21.0.0\"\nassert tool.website == \"https://www.houdini.com\"\n\n# edit tool Blender\ntool = omoospace.get_tool(\"Blender\")\ntool.extensions = [\"Omoospace\"]\ntool.version = \"&gt;3.6.5\"\nassert \"BioxelNodes\" not in tool.extensions\n\n# get tool by name\nassert omoospace.get_tool(\"Blender\").version == \"&gt;3.6.5\"\n\n# remove tool\nomoospace.remove_tool(\"Blender\")\nassert len(omoospace.tools) == 2\n</code></pre>"},{"location":"develop/#work","title":"Work","text":"<pre><code>from omoospace import Omoospace\nomoospace = Omoospace('path/to/Project')\n\nwork = omoospace.get_work(\"\u8d85\u5389\u5bb3\u52a8\u753b\")\nassert work.brief == \"\u4e00\u4e2a\u8d85\u5389\u5bb3\u7684\u52a8\u753b.\"\nassert work.version == \"1.0.0\"\nassert work.contents == [\n    \"\u89c6\u9891/\u52a8\u753bA.mp4\",\n    \"\u56fe\u7247/\u52a8\u753bA_\u5c01\u9762.png\",\n]\nassert work.contributions[\"\u52a8\u753b\u5e08\"] == [\"\u9a6c\u5357003\", \"\u9a6c\u5357002\"]\nassert work.contributions[\"\u52a8\u753b\u5bfc\u6f14\"] == [\"\u9a6c\u5357001\"]\n\nwork = omoospace.get_work(\"\u8d85\u5389\u5bb3\u6a21\u578b\")\nassert work.brief == None\nassert work.version == None\nassert work.contents == [\"\u6a21\u578b/\u6a21\u578bA/\u6a21\u578bA.fbx\", \"\u6a21\u578b/\u6a21\u578bA/\u8d34\u56fe\"]\nassert len(work.contributions) == 0\nwork.add_contribution(\"\u9a6c\u5357003\", contribution=\"\u6a21\u578b\u5e08\")\nassert work.contributions[\"\u6a21\u578b\u5e08\"] == [\"\u9a6c\u5357003\"]\nassert work.contents == [\"\u6a21\u578b/\u6a21\u578bA/\u6a21\u578bA.fbx\", \"\u6a21\u578b/\u6a21\u578bA/\u8d34\u56fe\"]\n\nwork = omoospace.get_work(\"\u53e6\u4e00\u4e2a\u8d85\u5389\u5bb3\u6a21\u578b\")\nassert work.brief == None\nassert work.version == None\nassert work.contents == [\"\u6a21\u578b/\u6a21\u578bB.glb\"]\nassert len(work.contributions) == 0\n\nwork.brief = \"\u4e00\u4e2a\u8d85\u9177\u7684\u6a21\u578b.\"\nassert work.brief == \"\u4e00\u4e2a\u8d85\u9177\u7684\u6a21\u578b.\"\nassert work.contents == [\"\u6a21\u578b/\u6a21\u578bB.glb\"]\n\n# set contributions\nwork.contributions = {\n    \"\u6a21\u578b\u5e08\": [\"\u9a6c\u5357003\", {\"name\": \"\u9a6c\u5357002\", \"email\": \"manan2@example.com\"}]\n}\nassert len(work.contributions[\"\u6a21\u578b\u5e08\"]) == 2\nwith pytest.raises(KeyError):\n    assert len(work.contributions[\"\u4e3b\u521b\"]) == 0\n\n# delete content will affect work items\nOpath(omoospace.contents_dir, \"\u6a21\u578b\").remove()\nassert len(work.contents) == 0\n\n# remove work\nomoospace.remove_work(\"\u53e6\u4e00\u4e2a\u8d85\u5389\u5bb3\u6a21\u578b\")\nassert len(omoospace.works) == 2\n</code></pre>"},{"location":"develop/#opath","title":"Opath","text":"<pre><code>root = mini_omoos_path\nmake_path(\n    \"AssetA.blend\",\n    \"AssetB/001-ModelAssetB.zpr\",\n    \"AssetB/002-TextureAssetB.spp\",\n    \"AssetB/003-RenderAssetB.blend\",\n    \"AssetC/AssetC.blend\",\n    \"AssetC/PartA.blend\",\n    \"AssetC/PartB.blend\",\n    under=root,\n)\n\nOpath(root / \"AssetA.blend\").copy_to(root / \"Temp\")\nassert (root / \"AssetA.blend\").exists()\nassert (root / \"Temp\" / \"AssetA.blend\").exists()\n\n# if the same, return self\nassert (\n    Opath(root / \"AssetA.blend\").copy_to(root, overwrite=True)\n    == root / \"AssetA.blend\"\n)\n\n# Asset.blend is already in Temp, copy fail\nwith pytest.raises(FileExistsError):\n    Opath(root / \"AssetA.blend\").copy_to(root / \"Temp\")\n\n# with overwrite=True, AssetA.blend in Temp will be overwritten\nOpath(root / \"AssetA.blend\").copy_to(root / \"Temp\", overwrite=True)\nassert (root / \"Temp\" / \"AssetA.blend\").exists()\n\n# Asset.blend is already in Temp, move fail\nwith pytest.raises(FileExistsError):\n    Opath(root / \"AssetA.blend\").move_to(root / \"Temp\")\n\n# with overwrite=True, AssetA.blend in Temp will be overwritten\nOpath(root / \"AssetA.blend\").move_to(root / \"Temp\", overwrite=True)\nassert (root / \"Temp\" / \"AssetA.blend\").exists()\nassert not (root / \"AssetA.blend\").exists()\n\n# copy folder AssetC to Temp\nOpath(root / \"AssetC\").copy_to(root / \"Temp\")\nassert (root / \"AssetC\").exists()\nassert (root / \"Temp\" / \"AssetC\").exists()\nassert (root / \"Temp\" / \"AssetC\" / \"PartA.blend\").exists()\nassert (root / \"Temp\" / \"AssetC\" / \"PartB.blend\").exists()\n\nmake_path(\"AssetC/PartC.blend\", under=root)\n# Asset.blend is already in Temp, copy fail\nwith pytest.raises(FileExistsError):\n    Opath(root / \"AssetC\").copy_to(root / \"Temp\")\n\n# copy folder AssetC to Temp\nOpath(root / \"AssetC\").copy_to(root / \"Temp\", overwrite=True)\nassert (root / \"Temp\" / \"AssetC\" / \"PartC.blend\").exists()\n</code></pre> <p>Reveal in Explorer <pre><code>from omoospace import Omoospace, reveal_directory\n\nomoos = Omoospace(\"path/to/omoospace\")\nreveal_directory(omoos.root_dir)\n</code></pre></p>"},{"location":"develop/#oset","title":"Oset","text":"<pre><code>omoospace = Omoospace(mini_omoos_path)\n\nmakers = Oset[Maker](\n    [Maker(omoospace, \"Alice\"), Maker(omoospace, \"Bob\")], key=\"name\"\n)\nassert \"Alice\" in makers\nassert \"Charlie\" not in makers\nassert Maker(omoospace, \"Bob\") in makers\n\n# \u6d4b\u8bd5\u6dfb\u52a0\u91cd\u590d\u5c5e\u6027\u503c\u7684\u5bf9\u8c61\uff08\u4e0d\u4f1a\u88ab\u6dfb\u52a0\uff09\nmakers.add(Maker(omoospace, \"Alice\"))\nassert len(makers) == 2\nassert \"Alice\" in makers\nassert \"Bob\" in makers\n\n# 2. \u6d4b\u8bd5Work\u7c7b\u578b\u7684Oset\uff08\u9a8c\u8bc1\u901a\u7528\u6027\uff09\nworks = Oset[Work](\n    [Work(omoospace, \"Coding\"), Work(omoospace, \"Testing\")], key=\"name\"\n)\nassert \"Coding\" in works\nassert Work(omoospace, \"Testing\") in works\nassert \"Design\" not in works\n</code></pre>"},{"location":"develop/#utils","title":"Utils","text":"<p>Normalize a Name <pre><code>from omoospace import normalize_name\nassert normalize_name('Sc010_Shot0100.001') == 'Sc010_Shot0100'\n\n\n### Copy to Clipboard\n\n```python\nfrom omoospace import copy_to_clipboard\n\ncopy_to_clipboard(\"text\")\n</code></pre></p>"},{"location":"how-to-add-suffixes/","title":"How to add modifier suffixes?","text":""},{"location":"how-to-add-suffixes/#modifier-suffixes","title":"Modifier Suffixes","text":"<p>When you have the same thing but in different versions, states, or with different notes, you can add modifier suffixes (separated by a dot <code>.</code>) to tell them apart. For example: </p> <p><code>Skeleton.high.v001.blend</code> </p> <ul> <li><code>.high</code> indicates it\u2019s a high\u2011poly version  </li> <li><code>.v001</code> indicates the version number  </li> </ul> <p>Both <code>.high</code> and <code>.v001</code> are modifier suffixes.</p>"},{"location":"how-to-add-suffixes/#common-modifier-suffixes","title":"Common Modifier Suffixes","text":"Suffix Meaning <code>.</code> A marker that the file cannot be overwritten <code>.001</code>, <code>.002</code>, <code>.003</code> Numbering without specific meaning <code>.001-modeling</code>, <code>.002-texturing</code>, <code>.003-animation</code> Numbering with semantic meaning <code>.bak</code> Backup <code>.v001</code>, <code>.v002</code>, <code>.v003</code> Version (usually placed last) <code>.v1.1</code>, <code>.v1.1.2</code> Version with major/minor numbers <code>.v251208</code> Version with date (YYMMDD) <code>.sh0100</code>, <code>.sh0200</code> Shot number <code>.left</code>, <code>.right</code> Side (for assets like left/right eye) <code>.karma</code>, <code>.arnold</code>, <code>.octane</code>, <code>.redshift</code> Renderer <code>.low</code>, <code>.high</code> Poly count level <code>.256px</code>, <code>.1024px</code>, <code>.2048px</code> Resolution <code>.1k</code>, <code>.2k</code>, <code>.4k</code>, <code>.540p</code>, <code>.1080p</code> Resolution <code>.basecolor</code>, <code>.sheencolor</code>, ... Texture map type <code>.depth</code>, <code>.indirectdiffuse</code>, ... AOV type <code>.60fps</code>, <code>.30fps</code> Frame rate <code>.beauty</code>, <code>.clay</code>, <code>.wireframe</code>, <code>.viewport</code> Render style <code>.0001</code>, <code>.0002</code>, <code>.0003</code> Frame number <code>.1001</code>, <code>.1002</code>, <code>.1003</code> UDIM tile number <code>.light</code>, <code>.layout</code> USD layer type"},{"location":"how-to-add-suffixes/#example-structure","title":"Example Structure","text":"<pre><code>\u251c\u2500\u2500 Seq010_Skeleton\n\u251c\u2500\u2500 Seq010_Skeleton.v001\n\u2502   \u251c\u2500\u2500 Seq010_Skeleton.low.glb\n\u2502   \u251c\u2500\u2500 Seq010_Skeleton.high.glb\n\u2502   \u2570\u2500\u2500 Textures\n\u2502       \u251c\u2500\u2500 Seq010_Skeleton.basecolor.1k.png\n\u2502       \u251c\u2500\u2500 Seq010_Skeleton.basecolor.2k.png\n\u2502       \u251c\u2500\u2500 Seq010_Skeleton.roughness.1k.png\n\u2502       \u2570\u2500\u2500 Seq010_Skeleton.roughness.2k.png\n\u251c\u2500\u2500 Seq010_Shot0100\n\u2502   \u251c\u2500\u2500 Seq010_Shot0100.0001.png\n\u2502   \u251c\u2500\u2500 Seq010_Shot0100.0002.png\n\u2502   \u251c\u2500\u2500 ...\n\u2502   \u2570\u2500\u2500 Seq010_Shot0100.0360.png\n</code></pre>"},{"location":"principles/","title":"Omoospace Principles","text":"<p>There are only 4 rules, easy to remember:</p> <ol> <li>Name everything in a clear, specific way</li> <li><code>Contents/</code> stores static resource files</li> <li><code>Subspaces/</code> stores dynamic source files</li> <li><code>Omoospace.*</code> rcords project information</li> </ol>"},{"location":"principles/#1-name-everything-in-a-clear-specific-way","title":"1. Name everything in a clear, specific way","text":"<ul> <li> <p>Avoid special characters and spaces.     Only letters, numbers, underscores(<code>_</code>), periods(<code>.</code>), and hyphens(<code>-</code>) are allowed.</p> </li> <li> <p>Use universal, easy-to-understand expressions for naming, avoid abbreviations and codes.     Do not use incomprehensible abbreviations such as <code>BC</code>?, <code>TE</code>?.</p> </li> <li> <p>Action terms can be omitted, but object names must not be.     For example: <code>ModelProp01.blend</code> can be simplified to <code>Prop01.blend</code>, but never <code>Modeling.blend</code>; <code>TestWaterEffect.hip</code> cannot be <code>Test.hip</code>.</p> </li> <li> <p>Use prefixes (separated by <code>_</code>) for context and suffixes (separated by <code>.</code>) for modifiers.     For example: <code>Sc010_Anatomy_Skeleton.high.v001.blend</code> \u2014 <code>Sc010</code> and <code>Anatomy</code> are context prefixes; <code>.high</code> and <code>.v001</code> are modifiers. See more examples here: How to use modifier suffixes?</p> </li> </ul>"},{"location":"principles/#2-contents-stores-static-resource-files","title":"2. <code>Contents/</code> stores static resource files","text":"<ul> <li> <p>Stores referenced, imported, exported resource files and final deliverables.      Examples: images, videos, audio effects, models, even source files, data files, etc.</p> </li> <li> <p>Organize subfolders by resource type</p> <pre><code>\u251c\u2500\u2500 Contents/\n\u2502   \u251c\u2500\u2500 Audios/       # Audio assets\n\u2502   \u251c\u2500\u2500 Downloads/    # Files downloaded online\n\u2502   \u251c\u2500\u2500 Dynamics/     # Various FX simulations\n\u2502   \u251c\u2500\u2500 Images/       # Textures, image assets\n\u2502   \u251c\u2500\u2500 Models/       # Models, animated models\n\u2502   \u251c\u2500\u2500 Renders/      # Image sequences, rendered videos\n\u2502   \u251c\u2500\u2500 Data/         # Reference data\n\u2502   \u2570\u2500\u2500 Videos/       # Final videos, video assets\n</code></pre> <p>See more examples here: How to set up folders?</p> </li> <li> <p>Do not easily adjust the folder structure or move files arbitrarily.     If adjustments are necessary, use the copy method to avoid losing original references.</p> </li> </ul>"},{"location":"principles/#3-subspaces-stores-dynamic-source-files","title":"3. <code>Subspaces/</code> stores dynamic source files","text":"<ul> <li> <p>Stores process-recorded source files and software-specific project files.     For examples: .psd, .blend, .word, .ppt.</p> </li> <li> <p>Organize files and subfolders by objectives</p> <p><pre><code>\u251c\u2500\u2500 Subspaces/\n\u2502   \u251c\u2500\u2500 Assets/                  # (Prepare) Assets\n\u2502   \u2502   \u251c\u2500\u2500 Prop01.blend         # Latest version\n\u2502   \u2502   \u2570\u2500\u2500 Prop01.v001.blend    # Backup version\n\u2502   \u2570\u2500\u2500 Sc010/                   # (Make) Scene 010\n\u2502       \u251c\u2500\u2500 Sc010.prproj         # (Editing) Scene 010\n\u2502       \u251c\u2500\u2500 Sc010.blend          # (Layout) Scene 010\n\u2502       \u2570\u2500\u2500 TestExplosion.blend  # Test Explosion Effect\n</code></pre> See more examples here: How to set up folders?</p> <p>The <code>Subspaces/</code> folder is optional \u2014 source files can be placed directly in the root directory.</p> </li> <li> <p>The folder structure can be adjusted arbitrarily, and files can be moved freely.     Messy states are allowed here, including work-in-progress, debugging, pending verification, and unorganized files.</p> </li> <li> <p>If a file needs to be referenced, save a copy to <code>Contents/.</code>     Do not reference source files directly from each other to avoid dynamic, disorganized upstream changes affecting downstream files.</p> <pre><code>\u251c\u2500\u2500 Contents/\n\u2502   \u2570\u2500\u2500 Models/\n\u2502       \u2570\u2500\u2500 **Prop01.blend**  # Referenced copy\n\u251c\u2500\u2500 Subspaces/\n\u2502   \u251c\u2500\u2500 AssetPreparation/\n\u2502   \u2502   \u2570\u2500\u2500 Prop01.blend      # Working file\n\u2502   \u2570\u2500\u2500 Scene010.blend        # File that needs references\n</code></pre> <p>If <code>Scene010.blend</code> needs to reference <code>Prop01.blend</code>, copy <code>Prop01.blend</code> to <code>Contents/</code>. See details here: How to back up copies?</p> </li> </ul>"},{"location":"principles/#4-omoospace-records-project-information","title":"4. <code>Omoospace.*</code> records project information","text":"<p>Use <code>Omoospace.*</code> to record overall project information. You can use any familiar document format (Markdown, TXT, Word, ...). </p> <p>For our tool, use <code>Omoospace.yml</code> (it can be an empty file, but it must exist \u2014 otherwise, our tool cannot recognize the workspace).</p> <pre><code># Omoospace.yml\nbrief: A great project.\n\nnotes:\n  Client: A great company\n\nmakers:\n  CreatorA: creatorA@example.com\n  CreatorB: creatorB@example.com\n\ntools:\n  Blender: 4.2.0\n  Houdini: 20.0.0\n\nworks:\n  Work01:\n    - Videos/Film01.mp4\n    - Images/Film01_Cover.png\n  Work02: Models/Prop01.glb\n</code></pre> <p>For more complex project information, see Omoospace.yml</p>"},{"location":"why/","title":"Why Omoospace?","text":"<p>Any work with even a little complexity usually involves more than one file. When there are too many files, you need folders to organize them. A good folder structure helps you revisit and understand the project later. So how should you design it?</p>"},{"location":"why/#points-to-consider","title":"Points to Consider","text":""},{"location":"why/#common-ground-across-workflows","title":"Common Ground Across Workflows","text":"<p>Files in all creative workflows can be divided into two main types:</p> <ul> <li>Resource files: Images, audio, video, models, and other files that are imported or referenced.</li> <li>Source files: Files in software-specific formats that you work on (your working files).</li> </ul> <p>Additionally, all workflows can be abstracted into a cycle:</p> <pre><code>Resource \u2192 Production \u2192 Resource \u2192 Production \u2192 Resource \u2192 ...\n</code></pre>"},{"location":"why/#software-native-solutions-are-incompatible","title":"Software-native Solutions Are Incompatible","text":"<p>Most software that uses external resources has its own way to collect or pack assets, such as:</p> <ul> <li>After Effects: Collect Files</li> <li>Blender: Pack Resources</li> <li>Cinema 4D: Save Project with Assets</li> </ul> <p>Some software also helps you create project folders, such as:</p> <ul> <li>Maya: Set a Project</li> <li>Houdini: $JOB</li> </ul> <p>These features are useful, but each software organizes files differently. This makes it hard to collaborate across multiple tools.</p>"},{"location":"why/#you-need-a-place-to-record-information","title":"You Need a Place to Record Information","text":"<p>You need a place to record:</p> <ul> <li>Software versions used</li> <li>Extensions used</li> <li>Team members and their roles</li> <li>Project description, client information, etc.</li> </ul>"},{"location":"why/#keep-it-maintainable-but-respect-laziness","title":"Keep It Maintainable, But Respect Laziness","text":"<p>Few people can maintain a very complex folder structure, and even fewer want to write lots of comments. So it\u2019s important to make the project \u201cself-explanatory\u201d with minimal effort. Here are some ways to save time:</p> <ul> <li>Use filenames as comments     Not every file can have a written description, so the filename itself should be clear and plain.</li> <li>Use prefixes and suffixes to add meaning. For example:<ul> <li><code>Sc010_</code> as a scene context prefix</li> <li><code>.v001</code> as a version suffix</li> <li><code>.480p</code> as a resolution suffix</li> <li><code>.low</code> as a low-poly suffix</li> </ul> </li> <li>Use consistent output paths. For example:<ul> <li>Render outputs go to <code>Renders</code></li> <li>Video exports go to <code>Videos</code></li> </ul> </li> <li>Accept mess for unimportant files     f a file isn\u2019t important, you don\u2019t need to organize it strictly. But if it is important, don\u2019t be too casual\u2014your future self will thank you \ud83e\udd72.</li> </ul>"},{"location":"why/#the-conflict-flexibility-vs-stability","title":"The Conflict: Flexibility vs Stability","text":"<p>If folders are too flexible, references break. If they are too fixed, the structure becomes rigid. Consider this example:</p> <pre><code>ProjectRoot/ \n\u251c\u2500\u2500 Prop01/ \n\u2502   \u251c\u2500\u2500 Prop01.blend      # Resource file (referenced by others) \n\u2502   \u2570\u2500\u2500 Prop01.WIP.blend  # Source file (work in progress) \n</code></pre> <p>Later, you may want to move <code>Prop01/</code> into an <code>Assets/</code> folder. But moving it will break all references to <code>Prop01.blend</code>. To avoid this, you would have to plan the final structure from the very beginning.</p> <p>Is there a way to have both flexibility and stability? To start simple and grow the structure as the project expands\u2014without breaking references?</p>"},{"location":"why/#omoospace-principles","title":"Omoospace Principles","text":"<p>No single software can cover all workflows, and workflows keep changing with new technology. We need a unified way to guide how files are stored on disk. That\u2019s why Omoospace was created.</p>"},{"location":"why/#core-idea-separate-resource-files-and-source-files","title":"Core Idea: Separate Resource Files and Source Files","text":"<p>To solve the flexibility/stability conflict, we ask:</p> <ul> <li>Who needs to be stable? Resource files</li> <li>And who needs to be flexible? Source files</li> </ul> <p>If they are mixed together, conflicts are inevitable:</p> <ul> <li>Prioritizing stability makes the structure rigid</li> <li>Prioritizing flexibility breaks references</li> </ul> <p>So they should be stored separately. This is the core idea of Omoospace.</p>"},{"location":"why/#omoospace-is-a-guide-not-a-strict-rulebook","title":"Omoospace Is a \"Guide\", Not a \"Strict Rulebook\"","text":"<p>Omoospace does not enforce a specific folder structure, and it is not a management tool (though tools can help). It is more like a set of principles that gives you a direction when you\u2019re unsure how to organize your files.</p> <p>Omoospace is simple. It has only four rules: Omoospace Principles.</p>"},{"location":"yml/","title":"Omoospace.yml","text":""},{"location":"apis/common/","title":"Common","text":""},{"location":"apis/common/#omoospace.common.Profile","title":"<code>Profile</code>","text":"<p>Abstract base class for read and write profile</p> Source code in <code>src\\omoospace\\common.py</code> <pre><code>class Profile:\n    \"\"\"Abstract base class for read and write profile\"\"\"\n\n    def _read_profile(self):\n        \"\"\"Read profile data from Omoospace.yml file.\"\"\"\n        if self.profile_file is None:\n            raise ValueError(\"profile file is None.\")\n\n        if not self.profile_file.exists():\n            return {}\n        with self.profile_file.open(\"r\", encoding=\"utf-8\") as file:\n            return yaml.load(file) or {}\n\n    def _write_profile(self, data):\n        \"\"\"Write profile data to Omoospace.yml file.\"\"\"\n        if self.profile_file is None:\n            raise ValueError(\"profile file is None.\")\n\n        self.profile_file.parent.mkdir(parents=True, exist_ok=True)\n        with self.profile_file.open(\"w\", encoding=\"utf-8\") as file:\n            yaml.dump(data, file)\n\n    @property\n    def language(self) -&gt; str:\n        \"\"\"str: Omoospace language.\"\"\"\n        parts = self.profile_file.stem.split(\".\")\n        return parts[-1] if len(parts) &gt; 1 else \"en\"\n\n    def _key(self, key) -&gt; str:\n        return key_dict[key][self.language]\n\n    def get(self, key: str) -&gt; Any:\n        \"\"\"Get the latest data for this item from the profile file.\"\"\"\n        profile = self._read_profile()\n        return profile.get(self._key(key))\n\n    def set(self, key: str, value: Any):\n        \"\"\"Set the value for the given key in the profile file.\"\"\"\n        profile = self._read_profile()\n        profile[self._key(key)] = value\n        self._write_profile(profile)\n</code></pre>"},{"location":"apis/common/#omoospace.common.Profile.language","title":"<code>language: str</code>  <code>property</code>","text":"<p>str: Omoospace language.</p>"},{"location":"apis/common/#omoospace.common.Profile.get","title":"<code>get(key)</code>","text":"<p>Get the latest data for this item from the profile file.</p> Source code in <code>src\\omoospace\\common.py</code> <pre><code>def get(self, key: str) -&gt; Any:\n    \"\"\"Get the latest data for this item from the profile file.\"\"\"\n    profile = self._read_profile()\n    return profile.get(self._key(key))\n</code></pre>"},{"location":"apis/common/#omoospace.common.Profile.set","title":"<code>set(key, value)</code>","text":"<p>Set the value for the given key in the profile file.</p> Source code in <code>src\\omoospace\\common.py</code> <pre><code>def set(self, key: str, value: Any):\n    \"\"\"Set the value for the given key in the profile file.\"\"\"\n    profile = self._read_profile()\n    profile[self._key(key)] = value\n    self._write_profile(profile)\n</code></pre>"},{"location":"apis/common/#omoospace.common.ProfileItem","title":"<code>ProfileItem</code>","text":"<p>Abstract class for profile items like Maker, Tool, and Work.</p> <p>This base class provides a unified way to access and update profile data, ensuring that attribute access always returns the latest data from the configuration file.</p> Source code in <code>src\\omoospace\\common.py</code> <pre><code>class ProfileItem:\n    \"\"\"Abstract class for profile items like Maker, Tool, and Work.\n\n    This base class provides a unified way to access and update profile data, ensuring\n    that attribute access always returns the latest data from the configuration file.\n    \"\"\"\n\n    \"\"\"The name used in the profile dictionary (e.g., \"makers\", \"tools\", \"works\").\"\"\"\n    _dict_name: str\n    _item_name: str\n\n    def __init__(self, omoospace: \"Omoospace\", name: str) -&gt; None:\n        self._item_name = name\n        self._omoospace = omoospace\n\n        # init item with name if not find in profile\n        item_dict = self._omoospace.get(self._dict_name) or {}\n        if self._item_name not in item_dict:\n            item_dict[self._item_name] = {}\n\n        self._omoospace.set(self._dict_name, item_dict)\n\n    def __repr__(self):\n        return self.name\n\n    def _key(self, key) -&gt; str:\n        return key_dict[key][self._omoospace.language]\n\n    @property\n    def data(self):\n        # e.g. makers\n        item_dict = self._omoospace.get(self._dict_name)\n        if item_dict is None:\n            raise AttributeError(f\"{self._dict_name} not found in profile.\")\n\n        # e.g. maker\n        data = item_dict.get(self._item_name)\n        if data is None:\n            raise AttributeError(f\"{self._item_name} not found in {self._dict_name}.\")\n        return data\n\n    @data.setter\n    def data(self, value: Any):\n        \"\"\"Update the profile with current data.\"\"\"\n        items = self._omoospace.get(self._dict_name) or {}\n\n        items[self._item_name] = value\n\n        self._omoospace.set(self._dict_name, items)\n\n    def get(self, key: str) -&gt; Any:\n        \"\"\"Get the latest data for this item from the profile file.\"\"\"\n        return self.data.get(self._key(key)) if isinstance(self.data, dict) else None\n\n    def set(self, key: str, value: Any):\n        \"\"\"Update the profile with current data.\"\"\"\n        data = self.data if isinstance(self.data, dict) else {}\n\n        data[self._key(key)] = value\n\n        self.data = data\n\n    def remove(self):\n        \"\"\"Remove this item from the profile.\"\"\"\n        item_dict = self._omoospace.get(self._dict_name)\n        if item_dict is None:\n            raise AttributeError(f\"{self._dict_name} not found in profile.\")\n\n        if self._item_name in item_dict:\n            del item_dict[self._item_name]\n            self._omoospace.set(self._dict_name, item_dict)\n        else:\n            raise AttributeError(f\"{self._item_name} not found in {self._dict_name}.\")\n\n    @property\n    def name(self) -&gt; str:\n        \"\"\"Get the name from the latest profile data.\"\"\"\n        return self._item_name\n\n    @name.setter\n    def name(self, value: str):\n        item_dict = self._omoospace.get(self._dict_name)\n\n        if self.name in item_dict:\n            del item_dict[self.name]\n\n        item_dict[value] = self.data\n        self._omoospace.set(self._dict_name, item_dict)\n\n        self._item_name = value\n</code></pre>"},{"location":"apis/common/#omoospace.common.ProfileItem.name","title":"<code>name: str</code>  <code>property</code> <code>writable</code>","text":"<p>Get the name from the latest profile data.</p>"},{"location":"apis/common/#omoospace.common.ProfileItem.get","title":"<code>get(key)</code>","text":"<p>Get the latest data for this item from the profile file.</p> Source code in <code>src\\omoospace\\common.py</code> <pre><code>def get(self, key: str) -&gt; Any:\n    \"\"\"Get the latest data for this item from the profile file.\"\"\"\n    return self.data.get(self._key(key)) if isinstance(self.data, dict) else None\n</code></pre>"},{"location":"apis/common/#omoospace.common.ProfileItem.remove","title":"<code>remove()</code>","text":"<p>Remove this item from the profile.</p> Source code in <code>src\\omoospace\\common.py</code> <pre><code>def remove(self):\n    \"\"\"Remove this item from the profile.\"\"\"\n    item_dict = self._omoospace.get(self._dict_name)\n    if item_dict is None:\n        raise AttributeError(f\"{self._dict_name} not found in profile.\")\n\n    if self._item_name in item_dict:\n        del item_dict[self._item_name]\n        self._omoospace.set(self._dict_name, item_dict)\n    else:\n        raise AttributeError(f\"{self._item_name} not found in {self._dict_name}.\")\n</code></pre>"},{"location":"apis/common/#omoospace.common.ProfileItem.set","title":"<code>set(key, value)</code>","text":"<p>Update the profile with current data.</p> Source code in <code>src\\omoospace\\common.py</code> <pre><code>def set(self, key: str, value: Any):\n    \"\"\"Update the profile with current data.\"\"\"\n    data = self.data if isinstance(self.data, dict) else {}\n\n    data[self._key(key)] = value\n\n    self.data = data\n</code></pre>"},{"location":"apis/functions/","title":"Functions","text":""},{"location":"apis/functions/#omoospace.functions.create_omoospace","title":"<code>create_omoospace(name, under='.', brief=None, contents_dir='Contents', subspaces_dir='Subspaces', language=None, readme=False, chinese_to_pinyin=False, reveal_in_explorer=False)</code>","text":"<p>Create an omoospace.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>Omoospace name</p> required <code>under</code> <code>str</code> <p>Add omoospace to which folder. Defaults to '.'.</p> <code>'.'</code> <code>brief</code> <code>str</code> <p>Omoospace brief. Defaults to None.</p> <code>None</code> <code>chinese_to_pinyin</code> <code>bool</code> <p>Whether convert chinese to pinyin. Defaults to False.</p> <code>False</code> <code>reveal_in_explorer</code> <code>bool</code> <p>Whether open folder after or not. Defaults to True.</p> <code>False</code> <p>Raises:     ExistsError: Target path already exists.     CreateFailed: Fail to create directories.</p> <p>Returns:</p> Name Type Description <code>Omoospace</code> <code>Omoospace</code> <p>New created omoospace.</p> Source code in <code>src\\omoospace\\functions.py</code> <pre><code>def create_omoospace(\n    name: str,\n    under: str = \".\",\n    brief: str = None,\n    contents_dir: str = \"Contents\",\n    subspaces_dir: str = \"Subspaces\",\n    language: Language = None,\n    readme: bool = False,\n    chinese_to_pinyin: bool = False,\n    reveal_in_explorer: bool = False,\n) -&gt; Omoospace:\n    \"\"\"Create an omoospace.\n\n    Args:\n        name (str): Omoospace name\n        under (str, optional): Add omoospace to which folder. Defaults to '.'.\n        brief (str, optional): Omoospace brief. Defaults to None.\n        chinese_to_pinyin (bool, optional): Whether convert chinese to pinyin. Defaults to False.\n        reveal_in_explorer (bool, optional): Whether open folder after or not. Defaults to True.\n    Raises:\n        ExistsError: Target path already exists.\n        CreateFailed: Fail to create directories.\n\n    Returns:\n        Omoospace: New created omoospace.\n    \"\"\"\n\n    if language and language not in ALLOWED_LANGS:\n        raise ValueError(f\"{language} is not a valid language.\")\n    language = language or \"en\"\n\n    dirname = normalize_name(name, chinese_to_pinyin=chinese_to_pinyin)\n    root_dir = Opath(under, dirname).resolve()\n\n    # Check if root_dir is in a omoospace\n    try:\n        Omoospace(root_dir)\n        raise FileExistsError(f\"{root_dir} already exists.\")\n\n    except FileNotFoundError:\n        pass\n\n    profile_file = f\"Omoospace.{language}.yml\" if language != \"en\" else \"Omoospace.yml\"\n    contents_dir = contents_dir or \"Contents\"\n\n    paths = [profile_file, f\"{contents_dir}/\"]\n\n    if subspaces_dir:\n        paths.append(f\"{subspaces_dir}/\")\n\n    if readme:\n        readme_content = f\"\"\"# {name}\n{brief or \"\"}\"\"\"\n        paths.append({\"README.md\": readme_content})\n\n    make_path(\n        *paths,\n        under=root_dir,\n    )\n\n    if reveal_in_explorer:\n        root_dir.reveal_in_explorer()\n\n    omoospace = Omoospace(root_dir)\n    omoospace.brief = brief or name\n\n    if subspaces_dir:\n        omoospace.subspaces_dir = subspaces_dir\n    if contents_dir != \"Contents\":\n        omoospace.contents_dir = contents_dir\n\n    return omoospace\n</code></pre>"},{"location":"apis/functions/#omoospace.functions.extract_objective","title":"<code>extract_objective(path)</code>","text":"<p>Returns the objective.</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>AnyPath</code> <p>The giving path.</p> required <p>Returns:</p> Name Type Description <code>Objective</code> <code>Objective</code> <p>Objective.</p> Source code in <code>src\\omoospace\\functions.py</code> <pre><code>def extract_objective(path: AnyPath) -&gt; Objective:\n    \"\"\"Returns the objective.\n\n    Args:\n        path (AnyPath): The giving path.\n\n    Returns:\n        Objective: Objective.\n\n    \"\"\"\n\n    try:\n        return Subspace(path).objective\n    except FileNotFoundError:\n        return None\n    except ValueError:\n        return None\n</code></pre>"},{"location":"apis/functions/#omoospace.functions.extract_pathname","title":"<code>extract_pathname(path)</code>","text":"<p>Returns the pathname of a path.</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>AnyPath</code> <p>The giving path.</p> required <p>Returns:</p> Name Type Description <code>ObjectivePath</code> <code>str</code> <p>Objective path.</p> Source code in <code>src\\omoospace\\functions.py</code> <pre><code>def extract_pathname(path: AnyPath) -&gt; str:\n    \"\"\"Returns the pathname of a path.\n\n    Args:\n        path (AnyPath): The giving path.\n\n    Returns:\n        ObjectivePath: Objective path.\n\n    \"\"\"\n\n    try:\n        return Subspace(path).pathname\n    except FileNotFoundError:\n        return None\n    except ValueError:\n        return \"\"\n</code></pre>"},{"location":"apis/items/","title":"Items","text":""},{"location":"apis/items/#omoospace.items.Maker","title":"<code>Maker</code>","text":"<p>             Bases: <code>ProfileItem</code></p> <p>Maker</p> <p>Attributes:</p> Name Type Description <code>name</code> <code>str</code> <p>Maker name</p> <code>email</code> <code>str</code> <p>Maker email</p> <code>website</code> <code>str</code> <p>Maker website.</p> Source code in <code>src\\omoospace\\items.py</code> <pre><code>class Maker(ProfileItem):\n    \"\"\"Maker\n\n    Attributes:\n        name (str): Maker name\n        email (str, optional): Maker email\n        website (str, optional): Maker website.\n    \"\"\"\n\n    _dict_name = \"makers\"\n\n    def __init__(self, omoospace, maker: Union[str, MakerDict, \"Maker\"]):\n        if isinstance(maker, str):\n            super().__init__(omoospace, maker)\n\n        elif isinstance(maker, dict) and \"name\" in maker:\n            super().__init__(omoospace, maker[\"name\"])\n            if \"email\" in maker:\n                self.email = maker[\"email\"]\n\n            if \"website\" in maker:\n                self.website = maker[\"website\"]\n\n        elif isinstance(maker.name, str):\n            super().__init__(omoospace, maker.name)\n\n            if maker.email:\n                self.email = maker.email\n\n            if maker.website:\n                self.website = maker.website\n        else:\n            raise ValueError(f\"{maker} is not a valid Maker.\")\n\n    @property\n    def email(self) -&gt; Optional[str]:\n        \"\"\"Get the email from the latest profile data.\"\"\"\n        if isinstance(self.data, str):\n            return self.data\n\n        return self.get(\"email\")\n\n    @email.setter\n    def email(self, value: str):\n        if value and (not is_email(value)):\n            raise ValueError(f\"{value} is not a valid email.\")\n\n        if isinstance(self.data, str):\n            self.data = value\n\n        self.set(\"email\", value)\n\n    @property\n    def website(self) -&gt; Optional[str]:\n        \"\"\"Get the website from the latest profile data.\"\"\"\n        return self.get(\"website\")\n\n    @website.setter\n    def website(self, value: str):\n        if value and (not is_url(value)):\n            raise ValueError(f\"{value} is not a valid url.\")\n\n        if isinstance(self.data, str):\n            self.set(\"email\", self.data)\n\n        self.set(\"website\", value)\n</code></pre>"},{"location":"apis/items/#omoospace.items.Maker.email","title":"<code>email: Optional[str]</code>  <code>property</code> <code>writable</code>","text":"<p>Get the email from the latest profile data.</p>"},{"location":"apis/items/#omoospace.items.Maker.website","title":"<code>website: Optional[str]</code>  <code>property</code> <code>writable</code>","text":"<p>Get the website from the latest profile data.</p>"},{"location":"apis/items/#omoospace.items.Tool","title":"<code>Tool</code>","text":"<p>             Bases: <code>ProfileItem</code></p> <p>Tool</p> <p>Attributes:</p> Name Type Description <code>name</code> <code>str</code> <p>Tool name</p> <code>version</code> <code>str</code> <p>Tool version.</p> <code>website</code> <code>str</code> <p>Tool url.</p> <code>extensions</code> <code>Union[list[str], set[str]]</code> <p>Tool extensions.</p> Source code in <code>src\\omoospace\\items.py</code> <pre><code>class Tool(ProfileItem):\n    \"\"\"Tool\n\n    Attributes:\n        name (str): Tool name\n        version (str): Tool version.\n        website (str): Tool url.\n        extensions (Union[list[str], set[str]], optional): Tool extensions.\n    \"\"\"\n\n    _dict_name = \"tools\"\n\n    def __init__(self, omoospace, tool: Union[str, ToolDict, \"Tool\"]):\n        if isinstance(tool, str):\n            super().__init__(omoospace, tool)\n\n        elif isinstance(tool, dict) and \"name\" in tool:\n            super().__init__(omoospace, tool[\"name\"])\n            if \"version\" in tool:\n                self.version = tool[\"version\"]\n\n            if \"website\" in tool:\n                self.website = tool[\"website\"]\n\n            if \"extensions\" in tool:\n                self.extensions = tool[\"extensions\"]\n\n        elif isinstance(tool.name, str):\n            super().__init__(omoospace, tool.name)\n\n            if tool.version:\n                self.version = tool.version\n\n            if tool.website:\n                self.website = tool.website\n\n            if tool.extensions:\n                self.extensions = tool.extensions\n        else:\n            raise ValueError(f\"{tool} is not a valid Tool.\")\n\n    @property\n    def version(self) -&gt; Optional[str]:\n        \"\"\"Get the version from the latest profile data.\"\"\"\n        if isinstance(self.data, str):\n            return self.data.removeprefix(\"v\")\n\n        return (v := self.get(\"version\")) and v.removeprefix(\"v\")\n\n    @version.setter\n    def version(self, value: str):\n        if value and (not is_version(value)):\n            raise ValueError(f\"{value} is not a valid version.\")\n\n        version = value.removeprefix(\"v\")\n\n        if isinstance(self.data, str):\n            self.data = version\n\n        self.set(\"version\", version)\n\n    @property\n    def website(self) -&gt; Optional[str]:\n        \"\"\"Get the website from the latest profile data.\"\"\"\n        return self.get(\"website\")\n\n    @website.setter\n    def website(self, value: str):\n        if value and (not is_url(value)):\n            raise ValueError(f\"{value} is not a valid url.\")\n\n        if isinstance(self.data, str):\n            self.set(\"version\", self.data)\n\n        self.set(\"website\", value)\n\n    @property\n    def extensions(self) -&gt; Oset[str]:\n        \"\"\"Oset[str]: Tool extensions set.\"\"\"\n        extensions = self.get(\"extensions\") or []\n        return Oset(extensions)\n\n    @extensions.setter\n    def extensions(self, value: Union[list[str], set[str]]):\n\n        if isinstance(self.data, str):\n            self.set(\"version\", self.data)\n\n        self.set(\"extensions\", list(set(value)))\n</code></pre>"},{"location":"apis/items/#omoospace.items.Tool.extensions","title":"<code>extensions: Oset[str]</code>  <code>property</code> <code>writable</code>","text":"<p>Oset[str]: Tool extensions set.</p>"},{"location":"apis/items/#omoospace.items.Tool.version","title":"<code>version: Optional[str]</code>  <code>property</code> <code>writable</code>","text":"<p>Get the version from the latest profile data.</p>"},{"location":"apis/items/#omoospace.items.Tool.website","title":"<code>website: Optional[str]</code>  <code>property</code> <code>writable</code>","text":"<p>Get the website from the latest profile data.</p>"},{"location":"apis/items/#omoospace.items.Work","title":"<code>Work</code>","text":"<p>             Bases: <code>ProfileItem</code></p> <p>Work</p> Source code in <code>src\\omoospace\\items.py</code> <pre><code>class Work(ProfileItem):\n    \"\"\"Work\"\"\"\n\n    _dict_name = \"works\"\n\n    def __init__(self, omoospace, work: Union[str, WorkDict, \"Work\"]):\n        if isinstance(work, str):\n            super().__init__(omoospace, work)\n\n        elif isinstance(work, dict) and \"name\" in work:\n            super().__init__(omoospace, work[\"name\"])\n            if \"brief\" in work:\n                self.brief = work[\"brief\"]\n\n            if \"version\" in work:\n                self.version = work[\"version\"]\n\n            if \"contents\" in work:\n                self.contents = work[\"contents\"]\n\n            if \"contributions\" in work:\n                self.contributions = work[\"contributions\"]\n\n        elif isinstance(work.name, str):\n            super().__init__(omoospace, work.name)\n\n            if work.brief:\n                self.brief = work.brief\n\n            if work.version:\n                self.version = work.version\n\n            if work.contents:\n                self.contents = work.contents\n\n            if work.contributions:\n                self.contributions = work.contributions\n        else:\n            raise ValueError(f\"{work} is not a valid Work.\")\n\n    @property\n    def brief(self) -&gt; Optional[str]:\n        \"\"\"Get the brief from the latest profile data.\"\"\"\n        return self.get(\"brief\")\n\n    @brief.setter\n    def brief(self, value: str):\n\n        if isinstance(self.data, list):\n            self.set(\"contents\", self.data)\n        if isinstance(self.data, str):\n            self.set(\"contents\", [self.data])\n\n        self.set(\"brief\", value)\n\n    @property\n    def version(self) -&gt; Optional[str]:\n        \"\"\"Get the version from the latest profile data.\"\"\"\n        return (v := self.get(\"version\")) and v.removeprefix(\"v\")\n\n    @version.setter\n    def version(self, value: str):\n        if value and (not is_version(value)):\n            raise ValueError(f\"{value} is not a valid version.\")\n\n        if isinstance(self.data, list):\n            self.set(\"contents\", self.data)\n        if isinstance(self.data, str):\n            self.set(\"contents\", [self.data])\n\n        self.set(\"version\", value.removeprefix(\"v\"))\n\n    @property\n    def contents(self) -&gt; Oset[str]:\n        \"\"\"set[str]: Work contents set.\"\"\"\n        contents = []\n\n        if isinstance(self.data, list):\n            contents = self.data\n        elif isinstance(self.data, str):\n            contents = [self.data]\n        elif isinstance(self.data, dict):\n            contents = self.get(\"contents\") or []\n\n        contents = Oset(\n            filter(\n                lambda x: self._omoospace.is_content(self._omoospace.contents_dir / x),\n                contents,\n            )\n        )\n        return contents\n\n    @contents.setter\n    def contents(self, value: Union[list[str], set[str]]):\n        contents = list(\n            set(\n                filter(\n                    lambda x: self._omoospace.is_content(\n                        self._omoospace.contents_dir / x\n                    ),\n                    value,\n                )\n            )\n        )\n\n        if isinstance(self.data, str) or isinstance(self.data, list):\n            self.data = contents\n\n        self.set(\"contents\", contents)\n\n    @property\n    def contributions(self) -&gt; dict[str, Oset[str]]:\n        \"\"\"dict[str, list[Maker]]: Work contributions list.\"\"\"\n        contributions_dict = self.get(\"contributions\") or {}\n        contributions = {}\n        for contribution, names in contributions_dict.items():\n            names = [names] if isinstance(names, str) else names\n            contributions[contribution] = Oset[str](names)\n\n        return contributions\n\n    @contributions.setter\n    def contributions(\n        self,\n        value: Union[\n            dict[str, Union[list[Union[str, MakerDict, Maker]], Oset[Maker]]],\n            list[Union[str, MakerDict, Maker]],\n            Oset[Maker],\n        ],\n    ):\n        # set makers to omoospace\n        contributions = {}\n        if isinstance(value, list):\n            contributions[\"Maker\"] = list(\n                set([Maker(self._omoospace, maker).name for maker in value])\n            )\n        elif isinstance(value, dict):\n            for contribution, makers in value.items():\n                contributions[contribution] = list(\n                    set([Maker(self._omoospace, maker).name for maker in makers])\n                )\n        elif isinstance(value, Oset):\n            contributions[\"Maker\"] = list(value.to_set())\n\n        if isinstance(self.data, list):\n            self.set(\"contents\", self.data)\n        if isinstance(self.data, str):\n            self.set(\"contents\", [self.data])\n\n        self.set(\"contributions\", contributions)\n\n    def add_contribution(\n        self,\n        *makers: list[Union[str, MakerDict, Maker]],\n        contribution: str = None,\n    ):\n        \"\"\"Add contribution to this omoospace.\n\n        Args:\n            makers (list[Union[str, MakerDict, Maker]]): Makers list.\n            contribution (str, optional): Contribution type. Defaults to \"Maker\".\n        \"\"\"\n        contribution = contribution or self._key(\"Maker\")\n\n        contributions = self.contributions\n        if contribution not in contributions:\n            contributions[contribution] = Oset[str]()\n\n        names = []\n        for maker in makers:\n            if isinstance(maker, Maker):\n                names.append(maker.name)\n            elif isinstance(maker, str):\n                names.append(maker)\n            elif isinstance(maker, MakerDict) and \"name\" in maker:\n                names.append(maker[\"name\"])\n\n        contributions[contribution].update(names)\n        self.contributions = contributions\n</code></pre>"},{"location":"apis/items/#omoospace.items.Work.brief","title":"<code>brief: Optional[str]</code>  <code>property</code> <code>writable</code>","text":"<p>Get the brief from the latest profile data.</p>"},{"location":"apis/items/#omoospace.items.Work.contents","title":"<code>contents: Oset[str]</code>  <code>property</code> <code>writable</code>","text":"<p>set[str]: Work contents set.</p>"},{"location":"apis/items/#omoospace.items.Work.contributions","title":"<code>contributions: dict[str, Oset[str]]</code>  <code>property</code> <code>writable</code>","text":"<p>dict[str, list[Maker]]: Work contributions list.</p>"},{"location":"apis/items/#omoospace.items.Work.version","title":"<code>version: Optional[str]</code>  <code>property</code> <code>writable</code>","text":"<p>Get the version from the latest profile data.</p>"},{"location":"apis/items/#omoospace.items.Work.add_contribution","title":"<code>add_contribution(*makers, contribution=None)</code>","text":"<p>Add contribution to this omoospace.</p> <p>Parameters:</p> Name Type Description Default <code>makers</code> <code>list[Union[str, MakerDict, Maker]]</code> <p>Makers list.</p> <code>()</code> <code>contribution</code> <code>str</code> <p>Contribution type. Defaults to \"Maker\".</p> <code>None</code> Source code in <code>src\\omoospace\\items.py</code> <pre><code>def add_contribution(\n    self,\n    *makers: list[Union[str, MakerDict, Maker]],\n    contribution: str = None,\n):\n    \"\"\"Add contribution to this omoospace.\n\n    Args:\n        makers (list[Union[str, MakerDict, Maker]]): Makers list.\n        contribution (str, optional): Contribution type. Defaults to \"Maker\".\n    \"\"\"\n    contribution = contribution or self._key(\"Maker\")\n\n    contributions = self.contributions\n    if contribution not in contributions:\n        contributions[contribution] = Oset[str]()\n\n    names = []\n    for maker in makers:\n        if isinstance(maker, Maker):\n            names.append(maker.name)\n        elif isinstance(maker, str):\n            names.append(maker)\n        elif isinstance(maker, MakerDict) and \"name\" in maker:\n            names.append(maker[\"name\"])\n\n    contributions[contribution].update(names)\n    self.contributions = contributions\n</code></pre>"},{"location":"apis/omoospace/","title":"Omoospace","text":""},{"location":"apis/omoospace/#omoospace.omoospace.Objective","title":"<code>Objective</code>","text":"<p>Objective represents a node in the objective tree structure.</p> <p>This class encapsulates a node in the objective hierarchy, providing properties and methods to access and manipulate its data, subspaces, and relationships with other objectives.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>class Objective:\n    \"\"\"Objective represents a node in the objective tree structure.\n\n    This class encapsulates a node in the objective hierarchy, providing\n    properties and methods to access and manipulate its data, subspaces,\n    and relationships with other objectives.\n    \"\"\"\n\n    def __init__(self, node: Node):\n        \"\"\"Initialize an Objective instance.\n\n        Args:\n            node (Node): The underlying nutree Node object that this\n                Objective wraps.\n        \"\"\"\n        self._node = node\n\n    def __repr__(self) -&gt; str:\n        \"\"\"Return a string representation of the Objective.\n\n        Returns:\n            str: The name of the objective.\n        \"\"\"\n        return self.name\n\n    def __contains__(self, name: str) -&gt; bool:\n        \"\"\"Implement ``name in tree`` syntax to check for node existence.\"\"\"\n        return bool(self._node.find(match=lambda n: n.data.name == name))\n\n    def __iter__(self):\n        \"\"\"Make ``for obj in tree`` iterate over all nodes.\"\"\"\n        iter = self._node.__iter__()\n        return (Objective(n) for n in iter)\n\n    @property\n    def name(self) -&gt; str:\n        \"\"\"str: Objective node name.\"\"\"\n        return self._node.data.name\n\n    @property\n    def root_dir(self) -&gt; Opath:\n        \"\"\"Opath: Objective root_dir path (directory subspace only).\"\"\"\n        for subspace in self.subspaces:\n            if subspace.is_dir():\n                return subspace\n        return None\n\n    @property\n    def type(self) -&gt; ObjectiveType:\n        \"\"\"ObjectiveType: Objective type.\"\"\"\n\n        not_phantom = False\n        for subspace in self.subspaces:\n            names = normalize_name(subspace.stem).split(\"_\")\n            if self.name == names[-1]:\n                not_phantom = True\n                break\n\n        if not_phantom:\n            return ObjectiveType.DIRECTORY if self.root_dir else ObjectiveType.FILE\n        else:\n            return ObjectiveType.PHANTOM\n\n    @property\n    def subspaces(self) -&gt; Oset[\"Subspace\"]:\n        \"\"\"list[Opath]: Objective subspaces.\"\"\"\n        return Oset(\n            [Subspace(subspace) for subspace in self._node.data.subspaces],\n            key=\"path\",\n        )\n\n    @property\n    def pathname(self) -&gt; str:\n        \"\"\"str: Objective path name.\"\"\"\n        parts = self.path.split(\"/\")[1:]\n        return \"_\".join(parts)\n\n    @property\n    def path(self) -&gt; str:\n        \"\"\"str: Objective path.\"\"\"\n        return self._node.path\n\n    @property\n    def parent(self) -&gt; \"Objective\":\n        \"\"\"Objective: Parent subspace.\"\"\"\n        node = self._node.parent\n        return Objective(node) if node else None\n\n    @property\n    def children(self) -&gt; list[\"Objective\"]:\n        \"\"\"list[\"Objective\"]: Children subspace.\"\"\"\n        nodes = self._node.children\n        return [Objective(node) for node in nodes]\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Objective.children","title":"<code>children: list[Objective]</code>  <code>property</code>","text":"<p>list[\"Objective\"]: Children subspace.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Objective.name","title":"<code>name: str</code>  <code>property</code>","text":"<p>str: Objective node name.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Objective.parent","title":"<code>parent: Objective</code>  <code>property</code>","text":"<p>Objective: Parent subspace.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Objective.path","title":"<code>path: str</code>  <code>property</code>","text":"<p>str: Objective path.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Objective.pathname","title":"<code>pathname: str</code>  <code>property</code>","text":"<p>str: Objective path name.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Objective.root_dir","title":"<code>root_dir: Opath</code>  <code>property</code>","text":"<p>Opath: Objective root_dir path (directory subspace only).</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Objective.subspaces","title":"<code>subspaces: Oset[Subspace]</code>  <code>property</code>","text":"<p>list[Opath]: Objective subspaces.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Objective.type","title":"<code>type: ObjectiveType</code>  <code>property</code>","text":"<p>ObjectiveType: Objective type.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Objective.__contains__","title":"<code>__contains__(name)</code>","text":"<p>Implement <code>name in tree</code> syntax to check for node existence.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def __contains__(self, name: str) -&gt; bool:\n    \"\"\"Implement ``name in tree`` syntax to check for node existence.\"\"\"\n    return bool(self._node.find(match=lambda n: n.data.name == name))\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Objective.__init__","title":"<code>__init__(node)</code>","text":"<p>Initialize an Objective instance.</p> <p>Parameters:</p> Name Type Description Default <code>node</code> <code>Node</code> <p>The underlying nutree Node object that this Objective wraps.</p> required Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def __init__(self, node: Node):\n    \"\"\"Initialize an Objective instance.\n\n    Args:\n        node (Node): The underlying nutree Node object that this\n            Objective wraps.\n    \"\"\"\n    self._node = node\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Objective.__iter__","title":"<code>__iter__()</code>","text":"<p>Make <code>for obj in tree</code> iterate over all nodes.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def __iter__(self):\n    \"\"\"Make ``for obj in tree`` iterate over all nodes.\"\"\"\n    iter = self._node.__iter__()\n    return (Objective(n) for n in iter)\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Objective.__repr__","title":"<code>__repr__()</code>","text":"<p>Return a string representation of the Objective.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The name of the objective.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def __repr__(self) -&gt; str:\n    \"\"\"Return a string representation of the Objective.\n\n    Returns:\n        str: The name of the objective.\n    \"\"\"\n    return self.name\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.ObjectiveTree","title":"<code>ObjectiveTree</code>","text":"<p>Objective tree structure for managing objectives hierarchy.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>class ObjectiveTree:\n    \"\"\"Objective tree structure for managing objectives hierarchy.\"\"\"\n\n    def __init__(self, omoospace: \"Omoospace\"):\n        self._tree = Tree()\n        self.omoospace = omoospace\n        for subspace in self.omoospace.subspaces:\n            node_iter: Union[Node, Tree] = self._tree\n\n            # extract objective data list from the subspace.\n            path_data = Omoospace.extract_path_data(subspace)\n\n            # add single objective path from top to bottom to the tree.\n            for data in path_data:\n                node = next(\n                    (n for n in node_iter.children if n.data.name == data.name), None\n                )\n\n                if node is None:\n                    node = node_iter.add(data)\n                else:\n                    node.data.subspaces = list(\n                        set(node.data.subspaces + data.subspaces)\n                    )\n\n                node_iter = node\n\n    def __contains__(self, name: str) -&gt; bool:\n        \"\"\"Implement ``name in tree`` syntax to check for node existence.\"\"\"\n        return bool(self._tree.find(match=lambda n: n.data.name == name))\n\n    def __len__(self):\n        \"\"\"Make ``len(tree)`` return the number of nodes\n        (also makes empty trees falsy).\"\"\"\n        return self._tree.__len__()\n\n    def __iter__(self):\n        \"\"\"Make ``for obj in tree`` iterate over all nodes.\"\"\"\n        iter = self._tree.__iter__()\n        return (Objective(n) for n in iter)\n\n    @property\n    def count(self) -&gt; int:\n        \"\"\"Get the number of nodes in the tree.\n\n        Returns:\n            int: The number of nodes in the tree.\n        \"\"\"\n        return self._tree.count\n\n    def format(self, *, repr=None, style=None, join=\"\\n\") -&gt; str:\n        \"\"\"Format the objective tree to a string.\n\n        Returns:\n            str: The formatted objective tree string.\n        \"\"\"\n        return self._tree.format(\n            repr=repr, style=style, title=self.omoospace.name, join=join\n        )\n\n    def get(self, name_or_pathname: str) -&gt; Optional[Objective]:\n        \"\"\"Get objective by path name.\n\n        Args:\n            name_or_pathname (str): Input path name to locate the objective.\n\n        Returns:\n            Objective: The found objective, or None if not found.\n        \"\"\"\n\n        n = self._tree.find(match=lambda node: node.data.name == name_or_pathname)\n        if n is None:\n            n = self._tree.find(\n                match=lambda node: node.path\n                == \"/\" + \"/\".join(name_or_pathname.split(\"_\"))\n            )\n\n        return Objective(n) if n else None\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.ObjectiveTree.count","title":"<code>count: int</code>  <code>property</code>","text":"<p>Get the number of nodes in the tree.</p> <p>Returns:</p> Name Type Description <code>int</code> <code>int</code> <p>The number of nodes in the tree.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.ObjectiveTree.__contains__","title":"<code>__contains__(name)</code>","text":"<p>Implement <code>name in tree</code> syntax to check for node existence.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def __contains__(self, name: str) -&gt; bool:\n    \"\"\"Implement ``name in tree`` syntax to check for node existence.\"\"\"\n    return bool(self._tree.find(match=lambda n: n.data.name == name))\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.ObjectiveTree.__iter__","title":"<code>__iter__()</code>","text":"<p>Make <code>for obj in tree</code> iterate over all nodes.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def __iter__(self):\n    \"\"\"Make ``for obj in tree`` iterate over all nodes.\"\"\"\n    iter = self._tree.__iter__()\n    return (Objective(n) for n in iter)\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.ObjectiveTree.__len__","title":"<code>__len__()</code>","text":"<p>Make <code>len(tree)</code> return the number of nodes (also makes empty trees falsy).</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def __len__(self):\n    \"\"\"Make ``len(tree)`` return the number of nodes\n    (also makes empty trees falsy).\"\"\"\n    return self._tree.__len__()\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.ObjectiveTree.format","title":"<code>format(*, repr=None, style=None, join='\\n')</code>","text":"<p>Format the objective tree to a string.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The formatted objective tree string.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def format(self, *, repr=None, style=None, join=\"\\n\") -&gt; str:\n    \"\"\"Format the objective tree to a string.\n\n    Returns:\n        str: The formatted objective tree string.\n    \"\"\"\n    return self._tree.format(\n        repr=repr, style=style, title=self.omoospace.name, join=join\n    )\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.ObjectiveTree.get","title":"<code>get(name_or_pathname)</code>","text":"<p>Get objective by path name.</p> <p>Parameters:</p> Name Type Description Default <code>name_or_pathname</code> <code>str</code> <p>Input path name to locate the objective.</p> required <p>Returns:</p> Name Type Description <code>Objective</code> <code>Optional[Objective]</code> <p>The found objective, or None if not found.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def get(self, name_or_pathname: str) -&gt; Optional[Objective]:\n    \"\"\"Get objective by path name.\n\n    Args:\n        name_or_pathname (str): Input path name to locate the objective.\n\n    Returns:\n        Objective: The found objective, or None if not found.\n    \"\"\"\n\n    n = self._tree.find(match=lambda node: node.data.name == name_or_pathname)\n    if n is None:\n        n = self._tree.find(\n            match=lambda node: node.path\n            == \"/\" + \"/\".join(name_or_pathname.split(\"_\"))\n        )\n\n    return Objective(n) if n else None\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace","title":"<code>Omoospace</code>","text":"<p>             Bases: <code>Profile</code></p> <p>The main class representing an Omoospace instance.</p> <p>An Omoospace class instance always refers to an existing Omoospace directory, not a dummy.</p> <p>Usage: <code>`python omoospace = Omoospace('path/to/omoospace')</code></p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>class Omoospace(Profile):\n    \"\"\"The main class representing an Omoospace instance.\n\n    An Omoospace class instance always refers to an existing Omoospace directory, not a dummy.\n\n    Usage:\n    ```python\n    omoospace = Omoospace('path/to/omoospace')\n    ``\n    \"\"\"\n\n    def __init__(self, detect_dir: AnyPath, language: Language = None):\n        \"\"\"Initialize from an existing Omoospace.\"\"\"\n\n        if language and language not in ALLOWED_LANGS:\n            raise ValueError(f\"{language} is not a valid language.\")\n\n        detect_path = Opath(detect_dir).resolve()\n        detect_path_parents = [detect_path, *detect_path.parents]\n\n        for detect_path_parent in detect_path_parents:\n            # Find a file named 'Omoospace' with any extension (or no extension)\n            candidates = list(Opath(detect_path_parent).glob(\"Omoospace.*\"))\n            candidates = [c for c in candidates if c.is_file()]\n            if len(candidates) == 0:\n                continue\n\n            self.root_dir = detect_path_parent\n            if language:\n                self.profile_file = self.root_dir / f\"Omoospace.{language}.yml\"\n                return\n            else:\n                default = self.root_dir / f\"Omoospace.yml\"\n                self.profile_file = next(\n                    (c for c in candidates if c.suffix == \".yml\"), default\n                )\n                return\n\n        raise FileNotFoundError(f\"Omoospace not found in {detect_dir}\")\n\n    @classmethod\n    def extract_path_data(cls, path: AnyPath) -&gt; list[NodeData]:\n        \"\"\"Extract objective data from a subspace.\n\n        Args:\n            path (AnyPath): The subspace to extract objectives from.\n\n        Returns:\n            list[NodeData]: The list of objective data extracted from the subspace.\n        \"\"\"\n        subspace = Opath(path).resolve()\n        omoospace = cls(subspace)\n\n        if not omoospace.is_subspace(subspace):\n            raise ValueError(f\"{subspace} is not a valid subspace.\")\n\n        # Get path parts. remove those directory that is not subspace.\n        subspaces = [subspace]\n        for parent in subspace.parents:\n            if omoospace.is_subspace(parent):\n                subspaces.append(parent)\n        subspaces.reverse()\n\n        # init objectives list\n        objectives: list[NodeData] = []\n\n        for subspace in subspaces:\n            prev_names = [d.name for d in objectives]\n            prev_count = len(prev_names)\n\n            # Normalize subspace name for objective name\n            subspace_name = normalize_name(subspace.stem)\n\n            # Objective names are the strings that splited by \"_\".\n            # e.g. `Seq010_Shot0100.blend` has two objective (names): `Seq010` and `Shot0100`\n            names: list[str] = subspace_name.split(\"_\")\n\n            # clip matched path names as mush as possible.\n            # e.g. path: ['Seq010'], enity name: `Seq010_Shot0100.blend`\n            # `Seq010` is the matched namespace, which will be cliped.\n            for i in range(prev_count):\n                suffix = \"_\".join(prev_names[i:])\n                prefix = \"_\".join(names[: prev_count - i])\n                if suffix == prefix:\n                    names = names[prev_count - i :]\n                    break\n\n            # Append objective to list\n            for name in names:\n                objectives.append(NodeData(name, [subspace]))\n\n            # Sometimes all namspaces are cliped. but still need to append subspace\n            if len(names) == 0:\n                objectives[-1].subspaces.append(subspace)\n\n        return objectives\n\n    @classmethod\n    def extract_pathname(cls, path: AnyPath) -&gt; str:\n        \"\"\"Get subspace's pathname.\n\n        Args:\n            path (AnyPath): Input path name to locate the objective.\n\n        Returns:\n            str: Objective pathname.\n        \"\"\"\n        path_data = cls.extract_path_data(path)\n        return \"_\".join([d.name for d in path_data])\n\n    @classmethod\n    def extract_objective(cls, path: AnyPath) -&gt; Optional[Objective]:\n        \"\"\"Get objective by objective path or subspace.\n\n        Args:\n            path (AnyPath): Input path name to locate the objective.\n\n        Returns:\n            Optional[Objective]: The wanted objective.\n        \"\"\"\n        pathname = cls.extract_pathname(path)\n        omoospace = cls(path)\n        return omoospace.objective_tree.get(pathname)\n\n    @property\n    def language(self) -&gt; str:\n        \"\"\"str: Omoospace language.\"\"\"\n        parts = self.profile_file.stem.split(\".\")\n        return parts[-1] if len(parts) &gt; 1 else \"en\"\n\n    @property\n    def _profile(self) -&gt; Profile:\n        \"\"\"Get the profile of the Omoospace.\n\n        Returns:\n            Profile: The profile of the Omoospace.\n        \"\"\"\n        return Profile(self.profile_file)\n\n    @property\n    def name(self) -&gt; str:\n        \"\"\"str: Omoospace name.\"\"\"\n        return self.root_dir.name\n\n    @property\n    def brief(self) -&gt; str:\n        \"\"\"str: Omoospace name. Prefer Omoospace.yml, fallback to folder name.\"\"\"\n        brief = self.get(\"brief\")\n        return brief or self.name\n\n    @brief.setter\n    def brief(self, value):\n        \"\"\"Set the Omoospace brief.\n\n        Args:\n            value (str): The new brief to set for the Omoospace.\n        \"\"\"\n        self.set(\"brief\", value)\n\n    @property\n    def subspaces_dir(self) -&gt; Opath:\n        \"\"\"Opath: Subspaces directory path.\"\"\"\n        subspaces_dirname = self.get(\"subspaces_dir\") or \"Subspaces\"\n        subspaces_dir = self.root_dir / subspaces_dirname\n        return subspaces_dir if subspaces_dir.is_dir() else self.root_dir\n\n    @subspaces_dir.setter\n    def subspaces_dir(self, value):\n        \"\"\"Set the subspaces directory mapping.\n\n        Args:\n            value (str): The new directory name to map to 'Subspaces'.\n        \"\"\"\n        self.set(\"subspaces_dir\", value)\n\n    @property\n    def contents_dir(self) -&gt; Opath:\n        \"\"\"Opath: Contents directory path.\"\"\"\n        contents_dirname = self.get(\"contents_dir\") or \"Contents\"\n        return self.root_dir / contents_dirname\n\n    @contents_dir.setter\n    def contents_dir(self, value):\n        \"\"\"Set the contents directory mapping.\n\n        Args:\n            value (str): The new directory name to map to 'Contents'.\n        \"\"\"\n        self.set(\"contents_dir\", value)\n\n    @property\n    def makers(self) -&gt; Oset[Maker]:\n        \"\"\"Oset[Maker]: Maker set.\"\"\"\n        makers_dict = self.get(\"makers\") or {}\n        return Oset[Maker]([Maker(self, name) for name in makers_dict.keys()])\n\n    @property\n    def tools(self) -&gt; Oset[Tool]:\n        \"\"\"Oset[Tool]: Tool set.\"\"\"\n        tools_dict = self.get(\"tools\") or {}\n        return Oset[Tool]([Tool(self, name) for name in tools_dict.keys()])\n\n    @property\n    def works(self) -&gt; Oset[Work]:\n        \"\"\"Oset[Work]: Work set.\"\"\"\n        works_dict = self.get(\"works\") or {}\n        return Oset[Work]([Work(self, name) for name in works_dict.keys()])\n\n    @property\n    def subspaces(self) -&gt; Oset[Subspace]:\n        \"\"\"Oset[Subspace]: the subspaces in the subspaces directory.\"\"\"\n        return Oset(\n            [\n                Subspace(p)\n                for p in self.subspaces_dir.get_children()\n                if self.is_subspace(p)\n            ],\n            key=\"path\",\n        )\n\n    @property\n    def objective_tree(self) -&gt; ObjectiveTree:\n        \"\"\"ObjectiveTree: The objective tree of this omoospace.\"\"\"\n        return ObjectiveTree(self)\n\n    def is_subspace(self, path: AnyPath, require_exists: bool = True) -&gt; bool:\n        \"\"\"Check if a path is a subspace.\n\n        Args:\n            path (AnyPath): The path to check.\n            require_exists (bool, optional): Whether to require the path to exist.\n                Defaults to True.\n\n        Returns:\n            bool: True if the path is a subspace, False otherwise.\n        \"\"\"\n        path = Opath(path).resolve()\n\n        exists = path.exists() if require_exists else True\n        in_subspaces = path.is_under(self.subspaces_dir)\n        not_profile_file = not (\n            path.name.startswith(\"Omoospace.\") and path.parent == self.root_dir\n        )\n        not_readme = \"README.md\" not in path.name\n        not_contents = not path.is_under(self.contents_dir, or_equal=True)\n\n        # Early exit if basic conditions aren't met\n        if not (\n            exists and in_subspaces and not_contents and not_profile_file and not_readme\n        ):\n            return False\n\n        # Get ignore patterns from YAML\n        ignore = self.get(\"ignore\")\n        if not ignore:\n            return True\n\n        n = path.relative_to(self.subspaces_dir).as_posix()\n        return not is_ignore(n, ignore)\n\n    def is_content(self, path: AnyPath, require_exists: bool = True) -&gt; bool:\n        \"\"\"Check if path is contents item\n\n        Args:\n            path (AnyPath): Input path to check.\n            require_exists (bool, optional): Whether to require the path to exist.\n                Defaults to True.\n\n        Returns:\n            bool: True if the path is a content item, False otherwise.\n        \"\"\"\n        path = Opath(path).resolve()\n\n        exists = path.exists() if require_exists else True\n        in_contents = path.is_under(self.contents_dir)\n\n        return exists and in_contents\n\n    def is_item(self, path: AnyPath, require_exists: bool = True) -&gt; bool:\n        \"\"\"Check if path is this omoospace item.\n\n        Args:\n            path (AnyPath): Input path to check.\n            require_exists (bool, optional): Whether to require the path to exist.\n                Defaults to True.\n\n        Returns:\n            bool: True if the path is an Omoospace item, False otherwise.\n        \"\"\"\n        path = Opath(path).resolve()\n        exists = path.exists() if require_exists else True\n        in_omoospace = path.is_under(self.root_dir)\n        not_profile_file = \"Omoospace.\" not in path.name\n\n        return exists and in_omoospace and not_profile_file\n\n    def add_subspace(\n        self,\n        name: str,\n        under: str = None,\n        collect_children: bool = True,\n        reveal_in_explorer: bool = False,\n    ) -&gt; Subspace:\n        \"\"\"Add subspace to this omoospace.\"\"\"\n        parent_path = Opath(under).resolve() if under else self.subspaces_dir\n\n        # Check if is valid folder\n        if not parent_path.is_dir():\n            raise FileExistsError(f\"{under} already exists.\")\n\n        # Check if is in Subspaces\n        if not Opath(parent_path).is_under(self.subspaces_dir, or_equal=True):\n            raise ValueError(f\"{under} is not a valid place.\")\n\n        subspace_name = normalize_name(name)\n        subspace = Opath(parent_path, subspace_name).resolve()\n\n        # Check if exists\n        if subspace.is_dir():\n            raise FileExistsError(f\"{subspace} already exists.\")\n\n        # create subspace folder\n        try:\n            make_path(\n                f\"{subspace_name}/\",\n                under=parent_path,\n            )\n        except Exception as err:\n            raise err\n\n        # collect children that matched.\n        if collect_children:\n            children = parent_path.get_children(recursive=False)\n\n            def is_match(child: Opath):\n                not_itself = child.name != subspace_name\n                is_match = False\n\n                child_node_names = normalize_name(child.name).split(\"_\")\n                subspace_node_names = subspace_name.split(\"_\")\n                for i in range(len(subspace_node_names)):\n                    subspace_suffix = \"_\".join(subspace_node_names[i:])\n                    child_prefix = \"_\".join(\n                        child_node_names[: len(subspace_node_names) - i]\n                    )\n                    if subspace_suffix == child_prefix:\n                        is_match = True\n                        break\n\n                return not_itself and is_match\n\n            # Remove subspace that not match the name\n            children = list(filter(is_match, children))\n\n            for child in children:\n                try:\n                    child.move_to(subspace)\n                except Exception as err:\n                    raise err\n\n        if reveal_in_explorer:\n            subspace.reveal_in_explorer()\n\n        return Subspace(subspace)\n\n    def get_note(self, scope: str) -&gt; Optional[list[str]]:\n        \"\"\"Get note by name.\"\"\"\n        notes_dict = self.get(\"notes\") or {}\n        notes = notes_dict.get(scope) or []\n        # if notes_dict.get(scope) is not a list, change to a list\n        if not isinstance(notes, list):\n            notes = [notes]\n\n        return notes\n\n    def add_note(self, note: str, scope: str = None):\n        \"\"\"Add note to this omoospace.\n\n        Args:\n            note (str): Note content.\n        \"\"\"\n        notes_dict = self.get(\"notes\") or {}\n        nodes = self.get_note(scope)\n\n        notes_dict[scope] = nodes + [note]\n        self.set(\"notes\", notes_dict)\n\n    def get_maker(self, name: str) -&gt; Optional[Maker]:\n        \"\"\"Get maker by name.\"\"\"\n        return self.makers.get(name)\n\n    def add_maker(self, maker: Union[str, MakerDict, Maker]) -&gt; Maker:\n        \"\"\"Add maker if not exists.\"\"\"\n        return Maker(self, maker)\n\n    def remove_maker(self, name: str):\n        \"\"\"Remove maker.\"\"\"\n        (c := self.get_maker(name)) and c.remove()\n\n    def get_tool(self, name: str) -&gt; Optional[Tool]:\n        \"\"\"Get Tool by name.\"\"\"\n        return self.tools.get(name)\n\n    def add_tool(self, tool: Union[str, ToolDict, Tool]) -&gt; Tool:\n        \"\"\"Add tool if not exists.\"\"\"\n        return Tool(self, tool)\n\n    def remove_tool(self, name: str):\n        \"\"\"Remove tool from this omoospace.\"\"\"\n        # Update profile\n        (t := self.get_tool(name)) and t.remove()\n\n    def get_work(self, name: str) -&gt; Optional[Work]:\n        \"\"\"Get Work by name.\"\"\"\n        return self.works.get(name)\n\n    def add_work(self, *work: Union[list[str], str, WorkDict, Work]) -&gt; Work:\n        \"\"\"Set work if not exists.\"\"\"\n        if all(isinstance(arg, str) for arg in work):\n            contents = list(set(work))\n            name = contents[0].split(\"/\")[-1].split(\".\")[0]\n            return Work(self, {\"name\": name, \"contents\": contents})\n\n        elif len(work) == 1 and isinstance(work[0], dict) and \"name\" in work[0]:\n            return Work(self, work[0])\n\n        elif len(work) == 1 and isinstance(work[0].name, str):\n            return Work(self, work[0])\n\n        else:\n            raise ValueError(f\"{work} is not a valid work.\")\n\n    def remove_work(self, name: str):\n        \"\"\"Remove work from this omoospace.\"\"\"\n        # Update profile\n        (w := self.get_work(name)) and w.remove()\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.brief","title":"<code>brief: str</code>  <code>property</code> <code>writable</code>","text":"<p>str: Omoospace name. Prefer Omoospace.yml, fallback to folder name.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.contents_dir","title":"<code>contents_dir: Opath</code>  <code>property</code> <code>writable</code>","text":"<p>Opath: Contents directory path.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.language","title":"<code>language: str</code>  <code>property</code>","text":"<p>str: Omoospace language.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.makers","title":"<code>makers: Oset[Maker]</code>  <code>property</code>","text":"<p>Oset[Maker]: Maker set.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.name","title":"<code>name: str</code>  <code>property</code>","text":"<p>str: Omoospace name.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.objective_tree","title":"<code>objective_tree: ObjectiveTree</code>  <code>property</code>","text":"<p>ObjectiveTree: The objective tree of this omoospace.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.subspaces","title":"<code>subspaces: Oset[Subspace]</code>  <code>property</code>","text":"<p>Oset[Subspace]: the subspaces in the subspaces directory.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.subspaces_dir","title":"<code>subspaces_dir: Opath</code>  <code>property</code> <code>writable</code>","text":"<p>Opath: Subspaces directory path.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.tools","title":"<code>tools: Oset[Tool]</code>  <code>property</code>","text":"<p>Oset[Tool]: Tool set.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.works","title":"<code>works: Oset[Work]</code>  <code>property</code>","text":"<p>Oset[Work]: Work set.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.__init__","title":"<code>__init__(detect_dir, language=None)</code>","text":"<p>Initialize from an existing Omoospace.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def __init__(self, detect_dir: AnyPath, language: Language = None):\n    \"\"\"Initialize from an existing Omoospace.\"\"\"\n\n    if language and language not in ALLOWED_LANGS:\n        raise ValueError(f\"{language} is not a valid language.\")\n\n    detect_path = Opath(detect_dir).resolve()\n    detect_path_parents = [detect_path, *detect_path.parents]\n\n    for detect_path_parent in detect_path_parents:\n        # Find a file named 'Omoospace' with any extension (or no extension)\n        candidates = list(Opath(detect_path_parent).glob(\"Omoospace.*\"))\n        candidates = [c for c in candidates if c.is_file()]\n        if len(candidates) == 0:\n            continue\n\n        self.root_dir = detect_path_parent\n        if language:\n            self.profile_file = self.root_dir / f\"Omoospace.{language}.yml\"\n            return\n        else:\n            default = self.root_dir / f\"Omoospace.yml\"\n            self.profile_file = next(\n                (c for c in candidates if c.suffix == \".yml\"), default\n            )\n            return\n\n    raise FileNotFoundError(f\"Omoospace not found in {detect_dir}\")\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.add_maker","title":"<code>add_maker(maker)</code>","text":"<p>Add maker if not exists.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def add_maker(self, maker: Union[str, MakerDict, Maker]) -&gt; Maker:\n    \"\"\"Add maker if not exists.\"\"\"\n    return Maker(self, maker)\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.add_note","title":"<code>add_note(note, scope=None)</code>","text":"<p>Add note to this omoospace.</p> <p>Parameters:</p> Name Type Description Default <code>note</code> <code>str</code> <p>Note content.</p> required Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def add_note(self, note: str, scope: str = None):\n    \"\"\"Add note to this omoospace.\n\n    Args:\n        note (str): Note content.\n    \"\"\"\n    notes_dict = self.get(\"notes\") or {}\n    nodes = self.get_note(scope)\n\n    notes_dict[scope] = nodes + [note]\n    self.set(\"notes\", notes_dict)\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.add_subspace","title":"<code>add_subspace(name, under=None, collect_children=True, reveal_in_explorer=False)</code>","text":"<p>Add subspace to this omoospace.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def add_subspace(\n    self,\n    name: str,\n    under: str = None,\n    collect_children: bool = True,\n    reveal_in_explorer: bool = False,\n) -&gt; Subspace:\n    \"\"\"Add subspace to this omoospace.\"\"\"\n    parent_path = Opath(under).resolve() if under else self.subspaces_dir\n\n    # Check if is valid folder\n    if not parent_path.is_dir():\n        raise FileExistsError(f\"{under} already exists.\")\n\n    # Check if is in Subspaces\n    if not Opath(parent_path).is_under(self.subspaces_dir, or_equal=True):\n        raise ValueError(f\"{under} is not a valid place.\")\n\n    subspace_name = normalize_name(name)\n    subspace = Opath(parent_path, subspace_name).resolve()\n\n    # Check if exists\n    if subspace.is_dir():\n        raise FileExistsError(f\"{subspace} already exists.\")\n\n    # create subspace folder\n    try:\n        make_path(\n            f\"{subspace_name}/\",\n            under=parent_path,\n        )\n    except Exception as err:\n        raise err\n\n    # collect children that matched.\n    if collect_children:\n        children = parent_path.get_children(recursive=False)\n\n        def is_match(child: Opath):\n            not_itself = child.name != subspace_name\n            is_match = False\n\n            child_node_names = normalize_name(child.name).split(\"_\")\n            subspace_node_names = subspace_name.split(\"_\")\n            for i in range(len(subspace_node_names)):\n                subspace_suffix = \"_\".join(subspace_node_names[i:])\n                child_prefix = \"_\".join(\n                    child_node_names[: len(subspace_node_names) - i]\n                )\n                if subspace_suffix == child_prefix:\n                    is_match = True\n                    break\n\n            return not_itself and is_match\n\n        # Remove subspace that not match the name\n        children = list(filter(is_match, children))\n\n        for child in children:\n            try:\n                child.move_to(subspace)\n            except Exception as err:\n                raise err\n\n    if reveal_in_explorer:\n        subspace.reveal_in_explorer()\n\n    return Subspace(subspace)\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.add_tool","title":"<code>add_tool(tool)</code>","text":"<p>Add tool if not exists.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def add_tool(self, tool: Union[str, ToolDict, Tool]) -&gt; Tool:\n    \"\"\"Add tool if not exists.\"\"\"\n    return Tool(self, tool)\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.add_work","title":"<code>add_work(*work)</code>","text":"<p>Set work if not exists.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def add_work(self, *work: Union[list[str], str, WorkDict, Work]) -&gt; Work:\n    \"\"\"Set work if not exists.\"\"\"\n    if all(isinstance(arg, str) for arg in work):\n        contents = list(set(work))\n        name = contents[0].split(\"/\")[-1].split(\".\")[0]\n        return Work(self, {\"name\": name, \"contents\": contents})\n\n    elif len(work) == 1 and isinstance(work[0], dict) and \"name\" in work[0]:\n        return Work(self, work[0])\n\n    elif len(work) == 1 and isinstance(work[0].name, str):\n        return Work(self, work[0])\n\n    else:\n        raise ValueError(f\"{work} is not a valid work.\")\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.extract_objective","title":"<code>extract_objective(path)</code>  <code>classmethod</code>","text":"<p>Get objective by objective path or subspace.</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>AnyPath</code> <p>Input path name to locate the objective.</p> required <p>Returns:</p> Type Description <code>Optional[Objective]</code> <p>Optional[Objective]: The wanted objective.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>@classmethod\ndef extract_objective(cls, path: AnyPath) -&gt; Optional[Objective]:\n    \"\"\"Get objective by objective path or subspace.\n\n    Args:\n        path (AnyPath): Input path name to locate the objective.\n\n    Returns:\n        Optional[Objective]: The wanted objective.\n    \"\"\"\n    pathname = cls.extract_pathname(path)\n    omoospace = cls(path)\n    return omoospace.objective_tree.get(pathname)\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.extract_path_data","title":"<code>extract_path_data(path)</code>  <code>classmethod</code>","text":"<p>Extract objective data from a subspace.</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>AnyPath</code> <p>The subspace to extract objectives from.</p> required <p>Returns:</p> Type Description <code>list[NodeData]</code> <p>list[NodeData]: The list of objective data extracted from the subspace.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>@classmethod\ndef extract_path_data(cls, path: AnyPath) -&gt; list[NodeData]:\n    \"\"\"Extract objective data from a subspace.\n\n    Args:\n        path (AnyPath): The subspace to extract objectives from.\n\n    Returns:\n        list[NodeData]: The list of objective data extracted from the subspace.\n    \"\"\"\n    subspace = Opath(path).resolve()\n    omoospace = cls(subspace)\n\n    if not omoospace.is_subspace(subspace):\n        raise ValueError(f\"{subspace} is not a valid subspace.\")\n\n    # Get path parts. remove those directory that is not subspace.\n    subspaces = [subspace]\n    for parent in subspace.parents:\n        if omoospace.is_subspace(parent):\n            subspaces.append(parent)\n    subspaces.reverse()\n\n    # init objectives list\n    objectives: list[NodeData] = []\n\n    for subspace in subspaces:\n        prev_names = [d.name for d in objectives]\n        prev_count = len(prev_names)\n\n        # Normalize subspace name for objective name\n        subspace_name = normalize_name(subspace.stem)\n\n        # Objective names are the strings that splited by \"_\".\n        # e.g. `Seq010_Shot0100.blend` has two objective (names): `Seq010` and `Shot0100`\n        names: list[str] = subspace_name.split(\"_\")\n\n        # clip matched path names as mush as possible.\n        # e.g. path: ['Seq010'], enity name: `Seq010_Shot0100.blend`\n        # `Seq010` is the matched namespace, which will be cliped.\n        for i in range(prev_count):\n            suffix = \"_\".join(prev_names[i:])\n            prefix = \"_\".join(names[: prev_count - i])\n            if suffix == prefix:\n                names = names[prev_count - i :]\n                break\n\n        # Append objective to list\n        for name in names:\n            objectives.append(NodeData(name, [subspace]))\n\n        # Sometimes all namspaces are cliped. but still need to append subspace\n        if len(names) == 0:\n            objectives[-1].subspaces.append(subspace)\n\n    return objectives\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.extract_pathname","title":"<code>extract_pathname(path)</code>  <code>classmethod</code>","text":"<p>Get subspace's pathname.</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>AnyPath</code> <p>Input path name to locate the objective.</p> required <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>Objective pathname.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>@classmethod\ndef extract_pathname(cls, path: AnyPath) -&gt; str:\n    \"\"\"Get subspace's pathname.\n\n    Args:\n        path (AnyPath): Input path name to locate the objective.\n\n    Returns:\n        str: Objective pathname.\n    \"\"\"\n    path_data = cls.extract_path_data(path)\n    return \"_\".join([d.name for d in path_data])\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.get_maker","title":"<code>get_maker(name)</code>","text":"<p>Get maker by name.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def get_maker(self, name: str) -&gt; Optional[Maker]:\n    \"\"\"Get maker by name.\"\"\"\n    return self.makers.get(name)\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.get_note","title":"<code>get_note(scope)</code>","text":"<p>Get note by name.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def get_note(self, scope: str) -&gt; Optional[list[str]]:\n    \"\"\"Get note by name.\"\"\"\n    notes_dict = self.get(\"notes\") or {}\n    notes = notes_dict.get(scope) or []\n    # if notes_dict.get(scope) is not a list, change to a list\n    if not isinstance(notes, list):\n        notes = [notes]\n\n    return notes\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.get_tool","title":"<code>get_tool(name)</code>","text":"<p>Get Tool by name.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def get_tool(self, name: str) -&gt; Optional[Tool]:\n    \"\"\"Get Tool by name.\"\"\"\n    return self.tools.get(name)\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.get_work","title":"<code>get_work(name)</code>","text":"<p>Get Work by name.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def get_work(self, name: str) -&gt; Optional[Work]:\n    \"\"\"Get Work by name.\"\"\"\n    return self.works.get(name)\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.is_content","title":"<code>is_content(path, require_exists=True)</code>","text":"<p>Check if path is contents item</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>AnyPath</code> <p>Input path to check.</p> required <code>require_exists</code> <code>bool</code> <p>Whether to require the path to exist. Defaults to True.</p> <code>True</code> <p>Returns:</p> Name Type Description <code>bool</code> <code>bool</code> <p>True if the path is a content item, False otherwise.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def is_content(self, path: AnyPath, require_exists: bool = True) -&gt; bool:\n    \"\"\"Check if path is contents item\n\n    Args:\n        path (AnyPath): Input path to check.\n        require_exists (bool, optional): Whether to require the path to exist.\n            Defaults to True.\n\n    Returns:\n        bool: True if the path is a content item, False otherwise.\n    \"\"\"\n    path = Opath(path).resolve()\n\n    exists = path.exists() if require_exists else True\n    in_contents = path.is_under(self.contents_dir)\n\n    return exists and in_contents\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.is_item","title":"<code>is_item(path, require_exists=True)</code>","text":"<p>Check if path is this omoospace item.</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>AnyPath</code> <p>Input path to check.</p> required <code>require_exists</code> <code>bool</code> <p>Whether to require the path to exist. Defaults to True.</p> <code>True</code> <p>Returns:</p> Name Type Description <code>bool</code> <code>bool</code> <p>True if the path is an Omoospace item, False otherwise.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def is_item(self, path: AnyPath, require_exists: bool = True) -&gt; bool:\n    \"\"\"Check if path is this omoospace item.\n\n    Args:\n        path (AnyPath): Input path to check.\n        require_exists (bool, optional): Whether to require the path to exist.\n            Defaults to True.\n\n    Returns:\n        bool: True if the path is an Omoospace item, False otherwise.\n    \"\"\"\n    path = Opath(path).resolve()\n    exists = path.exists() if require_exists else True\n    in_omoospace = path.is_under(self.root_dir)\n    not_profile_file = \"Omoospace.\" not in path.name\n\n    return exists and in_omoospace and not_profile_file\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.is_subspace","title":"<code>is_subspace(path, require_exists=True)</code>","text":"<p>Check if a path is a subspace.</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>AnyPath</code> <p>The path to check.</p> required <code>require_exists</code> <code>bool</code> <p>Whether to require the path to exist. Defaults to True.</p> <code>True</code> <p>Returns:</p> Name Type Description <code>bool</code> <code>bool</code> <p>True if the path is a subspace, False otherwise.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def is_subspace(self, path: AnyPath, require_exists: bool = True) -&gt; bool:\n    \"\"\"Check if a path is a subspace.\n\n    Args:\n        path (AnyPath): The path to check.\n        require_exists (bool, optional): Whether to require the path to exist.\n            Defaults to True.\n\n    Returns:\n        bool: True if the path is a subspace, False otherwise.\n    \"\"\"\n    path = Opath(path).resolve()\n\n    exists = path.exists() if require_exists else True\n    in_subspaces = path.is_under(self.subspaces_dir)\n    not_profile_file = not (\n        path.name.startswith(\"Omoospace.\") and path.parent == self.root_dir\n    )\n    not_readme = \"README.md\" not in path.name\n    not_contents = not path.is_under(self.contents_dir, or_equal=True)\n\n    # Early exit if basic conditions aren't met\n    if not (\n        exists and in_subspaces and not_contents and not_profile_file and not_readme\n    ):\n        return False\n\n    # Get ignore patterns from YAML\n    ignore = self.get(\"ignore\")\n    if not ignore:\n        return True\n\n    n = path.relative_to(self.subspaces_dir).as_posix()\n    return not is_ignore(n, ignore)\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.remove_maker","title":"<code>remove_maker(name)</code>","text":"<p>Remove maker.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def remove_maker(self, name: str):\n    \"\"\"Remove maker.\"\"\"\n    (c := self.get_maker(name)) and c.remove()\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.remove_tool","title":"<code>remove_tool(name)</code>","text":"<p>Remove tool from this omoospace.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def remove_tool(self, name: str):\n    \"\"\"Remove tool from this omoospace.\"\"\"\n    # Update profile\n    (t := self.get_tool(name)) and t.remove()\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Omoospace.remove_work","title":"<code>remove_work(name)</code>","text":"<p>Remove work from this omoospace.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>def remove_work(self, name: str):\n    \"\"\"Remove work from this omoospace.\"\"\"\n    # Update profile\n    (w := self.get_work(name)) and w.remove()\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Subspace","title":"<code>Subspace</code>","text":"<p>             Bases: <code>Opath</code></p> <p>Subspace class.</p> Source code in <code>src\\omoospace\\omoospace.py</code> <pre><code>class Subspace(Opath):\n    \"\"\"Subspace class.\"\"\"\n\n    @property\n    def path(self) -&gt; str:\n        \"\"\"str: Relative path string of this subspace.\"\"\"\n        # get path of this subspace to the subspaces folder\n        omoospace = Omoospace(self)\n        path = self.relative_to(omoospace.subspaces_dir)\n        return path.as_posix()\n\n    @property\n    def pathname(self) -&gt; str:\n        \"\"\"str: Pathname of this subspace.\"\"\"\n        return Omoospace.extract_pathname(self)\n\n    @property\n    def objective(self) -&gt; Objective:\n        \"\"\"Objective: Objective of this subspace.\"\"\"\n        return Omoospace.extract_objective(self)\n\n    @property\n    def subspaces(self) -&gt; Oset[\"Subspace\"]:\n        \"\"\"list[Opath]: Objective subspaces.\"\"\"\n        omoospace = Omoospace(self)\n\n        # get all subspaces which has same pathname prefix as this subspace\n        subspaces = Oset[Subspace](key=\"path\")\n        for s in omoospace.subspaces:\n            if s.pathname.startswith(self.pathname):\n                subspaces.add(s)\n\n        return subspaces\n</code></pre>"},{"location":"apis/omoospace/#omoospace.omoospace.Subspace.objective","title":"<code>objective: Objective</code>  <code>property</code>","text":"<p>Objective: Objective of this subspace.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Subspace.path","title":"<code>path: str</code>  <code>property</code>","text":"<p>str: Relative path string of this subspace.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Subspace.pathname","title":"<code>pathname: str</code>  <code>property</code>","text":"<p>str: Pathname of this subspace.</p>"},{"location":"apis/omoospace/#omoospace.omoospace.Subspace.subspaces","title":"<code>subspaces: Oset[Subspace]</code>  <code>property</code>","text":"<p>list[Opath]: Objective subspaces.</p>"},{"location":"apis/utils/","title":"Utils","text":""},{"location":"apis/utils/#omoospace.utils.Opath","title":"<code>Opath</code>","text":"<p>             Bases: <code>NativePath</code></p> <p>Custom Path class, inherit from system native Path class, keep all original features and add custom methods.</p> Source code in <code>src\\omoospace\\utils.py</code> <pre><code>class Opath(NativePath):\n    \"\"\"\n    Custom Path class, inherit from system native Path class,\n    keep all original features and add custom methods.\n    \"\"\"\n\n    def reveal_in_explorer(self):\n        \"\"\"Open the directory in file exploarer\"\"\"\n        try:\n            os.startfile(self)\n        except Exception as err:\n            print(\"Fail to reveal\", err)\n\n    def is_under(self, b: Union[str, Path, \"Opath\"], or_equal=False) -&gt; bool:\n        \"\"\"Return True if a is a subpath of b .\n\n        Args:\n            b (Union[str, Path]): Parent path\n            or_equal (bool, optional): [description]. Defaults to False.\n\n        Returns:\n            bool: Result.\n        \"\"\"\n        b = Path(b).resolve()\n        a = self.resolve()\n        is_under = b in a.parents\n        is_equal = b == a\n\n        return is_under or is_equal if or_equal else is_under\n\n    def get_children(self, recursive: bool = True) -&gt; list[\"Opath\"]:\n        \"\"\"Get all paths in giving directory.\n\n        Args:\n            recursive (bool, optional): Whether recursive or not. Defaults to True.\n        \"\"\"\n        search_path: Path = self.resolve()\n        paths: list[Opath] = []\n        if recursive:\n            # FIXME: replace this with Path.walk (python 3.12)\n            # https://docs.python.org/3/library/pathlib.html\n            for root, dirs, files in os.walk(search_path):\n                for path in [*dirs, *files]:\n                    child = Opath(root, path).resolve()\n                    paths.append(child)\n        else:\n            for child in search_path.iterdir():\n                paths.append(child)\n        return paths\n\n    def copy_to(\n        self, dir: Union[str, Path, \"Opath\"], overwrite: bool = False\n    ) -&gt; \"Opath\":\n        \"\"\"Copy file or directory to the given directory.\n\n        Args:\n            dir (Union[str, Path, Opath]): Destination directory.\n        \"\"\"\n\n        if not self.exists():\n            raise FileNotFoundError(f\"{self} does not exist.\")\n\n        dir = Opath(dir).resolve()\n        dst = dir / self.name\n\n        if dst.exists():\n            if not overwrite:\n                raise FileExistsError(f\"{dst} already exists.\")\n\n            if self.resolve() == dst.resolve():\n                return self\n\n        else:\n            dir.mkdir(parents=True, exist_ok=True)\n\n        if self.is_dir():\n            return Opath(shutil.copytree(self.resolve(), dst, dirs_exist_ok=True))\n        else:\n            return Opath(shutil.copy(self.resolve(), dir))\n\n    def move_to(\n        self, dir: Union[str, Path, \"Opath\"], overwrite: bool = False\n    ) -&gt; \"Opath\":\n        \"\"\"Move the file or directory to the given directory.\n\n        Args:\n            dir (Union[str, Path, Opath]): Destination directory.\n        \"\"\"\n        if not self.exists():\n            raise FileNotFoundError(f\"{self} does not exist.\")\n\n        dir = Opath(dir).resolve()\n        dst = dir / self.name\n\n        if dst.exists():\n            if not overwrite:\n                raise FileExistsError(f\"{dst} already exists.\")\n\n            if self.resolve() == dst.resolve():\n                return self\n\n            if dst.is_dir():\n                shutil.rmtree(dst, ignore_errors=True)\n            else:\n                dst.unlink()\n        else:\n            dir.mkdir(parents=True, exist_ok=True)\n\n        if dst.exists():\n            dst.unlink()\n        return Opath(shutil.move(self.resolve(), dir))\n\n    def remove_children(self):\n        \"\"\"Remove all children in the directory.\"\"\"\n        dirpath = self.resolve()\n\n        for child in dirpath.iterdir():\n            Opath(child).remove()\n\n    def remove(self):\n        \"\"\"Remove all files and directories in the directory.\"\"\"\n        if self.is_file():\n            self.unlink()\n        elif self.is_dir():\n            shutil.rmtree(self, ignore_errors=True)\n        else:\n            raise ValueError(f\"{self} does not exist.\")\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Opath.copy_to","title":"<code>copy_to(dir, overwrite=False)</code>","text":"<p>Copy file or directory to the given directory.</p> <p>Parameters:</p> Name Type Description Default <code>dir</code> <code>Union[str, Path, Opath]</code> <p>Destination directory.</p> required Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def copy_to(\n    self, dir: Union[str, Path, \"Opath\"], overwrite: bool = False\n) -&gt; \"Opath\":\n    \"\"\"Copy file or directory to the given directory.\n\n    Args:\n        dir (Union[str, Path, Opath]): Destination directory.\n    \"\"\"\n\n    if not self.exists():\n        raise FileNotFoundError(f\"{self} does not exist.\")\n\n    dir = Opath(dir).resolve()\n    dst = dir / self.name\n\n    if dst.exists():\n        if not overwrite:\n            raise FileExistsError(f\"{dst} already exists.\")\n\n        if self.resolve() == dst.resolve():\n            return self\n\n    else:\n        dir.mkdir(parents=True, exist_ok=True)\n\n    if self.is_dir():\n        return Opath(shutil.copytree(self.resolve(), dst, dirs_exist_ok=True))\n    else:\n        return Opath(shutil.copy(self.resolve(), dir))\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Opath.get_children","title":"<code>get_children(recursive=True)</code>","text":"<p>Get all paths in giving directory.</p> <p>Parameters:</p> Name Type Description Default <code>recursive</code> <code>bool</code> <p>Whether recursive or not. Defaults to True.</p> <code>True</code> Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def get_children(self, recursive: bool = True) -&gt; list[\"Opath\"]:\n    \"\"\"Get all paths in giving directory.\n\n    Args:\n        recursive (bool, optional): Whether recursive or not. Defaults to True.\n    \"\"\"\n    search_path: Path = self.resolve()\n    paths: list[Opath] = []\n    if recursive:\n        # FIXME: replace this with Path.walk (python 3.12)\n        # https://docs.python.org/3/library/pathlib.html\n        for root, dirs, files in os.walk(search_path):\n            for path in [*dirs, *files]:\n                child = Opath(root, path).resolve()\n                paths.append(child)\n    else:\n        for child in search_path.iterdir():\n            paths.append(child)\n    return paths\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Opath.is_under","title":"<code>is_under(b, or_equal=False)</code>","text":"<p>Return True if a is a subpath of b .</p> <p>Parameters:</p> Name Type Description Default <code>b</code> <code>Union[str, Path]</code> <p>Parent path</p> required <code>or_equal</code> <code>bool</code> <p>[description]. Defaults to False.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>bool</code> <code>bool</code> <p>Result.</p> Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def is_under(self, b: Union[str, Path, \"Opath\"], or_equal=False) -&gt; bool:\n    \"\"\"Return True if a is a subpath of b .\n\n    Args:\n        b (Union[str, Path]): Parent path\n        or_equal (bool, optional): [description]. Defaults to False.\n\n    Returns:\n        bool: Result.\n    \"\"\"\n    b = Path(b).resolve()\n    a = self.resolve()\n    is_under = b in a.parents\n    is_equal = b == a\n\n    return is_under or is_equal if or_equal else is_under\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Opath.move_to","title":"<code>move_to(dir, overwrite=False)</code>","text":"<p>Move the file or directory to the given directory.</p> <p>Parameters:</p> Name Type Description Default <code>dir</code> <code>Union[str, Path, Opath]</code> <p>Destination directory.</p> required Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def move_to(\n    self, dir: Union[str, Path, \"Opath\"], overwrite: bool = False\n) -&gt; \"Opath\":\n    \"\"\"Move the file or directory to the given directory.\n\n    Args:\n        dir (Union[str, Path, Opath]): Destination directory.\n    \"\"\"\n    if not self.exists():\n        raise FileNotFoundError(f\"{self} does not exist.\")\n\n    dir = Opath(dir).resolve()\n    dst = dir / self.name\n\n    if dst.exists():\n        if not overwrite:\n            raise FileExistsError(f\"{dst} already exists.\")\n\n        if self.resolve() == dst.resolve():\n            return self\n\n        if dst.is_dir():\n            shutil.rmtree(dst, ignore_errors=True)\n        else:\n            dst.unlink()\n    else:\n        dir.mkdir(parents=True, exist_ok=True)\n\n    if dst.exists():\n        dst.unlink()\n    return Opath(shutil.move(self.resolve(), dir))\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Opath.remove","title":"<code>remove()</code>","text":"<p>Remove all files and directories in the directory.</p> Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def remove(self):\n    \"\"\"Remove all files and directories in the directory.\"\"\"\n    if self.is_file():\n        self.unlink()\n    elif self.is_dir():\n        shutil.rmtree(self, ignore_errors=True)\n    else:\n        raise ValueError(f\"{self} does not exist.\")\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Opath.remove_children","title":"<code>remove_children()</code>","text":"<p>Remove all children in the directory.</p> Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def remove_children(self):\n    \"\"\"Remove all children in the directory.\"\"\"\n    dirpath = self.resolve()\n\n    for child in dirpath.iterdir():\n        Opath(child).remove()\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Opath.reveal_in_explorer","title":"<code>reveal_in_explorer()</code>","text":"<p>Open the directory in file exploarer</p> Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def reveal_in_explorer(self):\n    \"\"\"Open the directory in file exploarer\"\"\"\n    try:\n        os.startfile(self)\n    except Exception as err:\n        print(\"Fail to reveal\", err)\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Oset","title":"<code>Oset</code>","text":"<p>             Bases: <code>Generic[T]</code>, <code>set</code></p> <p>Universal set implementation compatible with both primitive types (str/int/float/bool) and custom objects (enforcing uniqueness via a specified attribute).</p> Key Features <ul> <li>Primitive types: Behaves exactly like native Python set</li> <li>Custom objects: Enforces uniqueness using specified attribute (default: \"name\")</li> <li>Supports membership checks with both attribute values (str/int) and object instances</li> <li>Supports equality comparison with native sets (e.g., Oset[Maker] == {\"Alice\", \"Bob\"})</li> </ul> <p>Attributes:</p> Name Type Description <code>key</code> <p>Name of attribute used for uniqueness checks on custom objects (default: \"name\")  Ignored for primitive type elements</p> Source code in <code>src\\omoospace\\utils.py</code> <pre><code>class Oset(Generic[T], set):\n    \"\"\"\n    Universal set implementation compatible with both primitive types (str/int/float/bool)\n    and custom objects (enforcing uniqueness via a specified attribute).\n\n    Key Features:\n        - Primitive types: Behaves exactly like native Python set\n        - Custom objects: Enforces uniqueness using specified attribute (default: \"name\")\n        - Supports membership checks with both attribute values (str/int) and object instances\n        - Supports equality comparison with native sets (e.g., Oset[Maker] == {\"Alice\", \"Bob\"})\n\n    Attributes:\n        key: Name of attribute used for uniqueness checks on custom objects (default: \"name\")\n             Ignored for primitive type elements\n    \"\"\"\n\n    def __init__(self, iterable: Iterable[T] = (), key: str = \"name\"):\n        \"\"\"\n        Initialize Oset with automatic deduplication based on element type.\n\n        Args:\n            iterable: Iterable containing primitive values (str/int) or custom objects (default: empty)\n            key: Attribute name for uniqueness validation on custom objects (default: \"name\")\n\n        Raises:\n            ValueError: If custom objects lack the specified key attribute\n        \"\"\"\n        self.key = key\n        unique_items = []\n        seen_keys = set()\n\n        for item in iterable:\n            item_key = self._get_item_key(item)\n            if item_key not in seen_keys:\n                seen_keys.add(item_key)\n                unique_items.append(item)\n\n        super().__init__(unique_items)\n\n    def _get_item_key(self, item: T) -&gt; Union[str, int, float, bool]:\n        \"\"\"\n        Get unique identity key for an element.\n\n        For primitive types (str/int/float/bool): Returns the element itself\n        For custom objects: Returns the value of the specified key attribute\n\n        Args:\n            item: Primitive value or custom object to get key for\n\n        Returns:\n            Union[str, int, float, bool]: Unique identity key\n\n        Raises:\n            ValueError: If custom object lacks the specified key attribute\n        \"\"\"\n        if isinstance(item, (str, int, float, bool)):\n            return item\n        try:\n            return getattr(item, self.key)\n        except AttributeError:\n            raise ValueError(f\"Object {item} missing required attribute '{self.key}'\")\n\n    def __contains__(self, item: Any) -&gt; bool:\n        \"\"\"\n        Override membership operator ('in') with type-aware logic.\n\n        Logic:\n            1. Custom object collection: Check by attribute value (str/int) or object instance\n            2. Primitive type collection: Maintain native set membership behavior\n\n        Args:\n            item: Attribute value (str/int) or object to check membership for\n\n        Returns:\n            bool: True if item exists in set, False otherwise\n        \"\"\"\n        # Check if collection contains custom objects (not primitives)\n        if self and not isinstance(next(iter(self)), (str, int, float, bool)):\n            # Case 1: Check by attribute value (e.g., \"Alice\" for Maker object)\n            if isinstance(item, (str, int, float, bool)):\n                return any(self._get_item_key(obj) == item for obj in self)\n\n            # Case 2: Check by object instance (compare key attributes)\n            else:\n                try:\n                    item_key = self._get_item_key(item)\n                    print(item_key)\n                except ValueError:\n                    return False\n                return any(self._get_item_key(obj) == item_key for obj in self)\n        # Primitive type collection - use native set behavior\n        else:\n            return super().__contains__(item)\n\n    def __eq__(self, other: Any) -&gt; bool:\n        \"\"\"\n        Universal equality operator (==) for all Oset types (NO primitive exceptions).\n\n        Compares key-based native sets for equality, enabling cross-type comparisons:\n        - Oset[Maker] == {\"Alice\", \"Bob\"}\n        - Oset[str] == {\"Alice\", \"Bob\"}\n        - Oset[int] == {1, 2}\n\n        Args:\n            other: Object to compare with (native set, list, tuple, Oset, etc.)\n\n        Returns:\n            bool: True if key-based sets are equal, False otherwise\n        \"\"\"\n        # Convert self to key-based native set (works for ALL Oset types)\n        self_key_set = self.to_set()\n\n        # Convert \"other\" to a native set (handle iterables/lists/tuples)\n        if isinstance(other, (set, list, tuple, Oset)):\n            # For Oset instances: use their to_set() method\n            if isinstance(other, Oset):\n                other_key_set = other.to_set()\n            # For native iterables: convert directly to set\n            else:\n                other_key_set = set(other)\n        # For non-iterable objects: return False immediately\n        else:\n            return False\n\n        # Compare key-based sets (universal logic for all types)\n        return self_key_set == other_key_set\n\n    def add(self, item: T) -&gt; None:\n        \"\"\"\n        Add element to set with automatic deduplication.\n\n        Args:\n            item: Primitive value or custom object to add\n\n        Raises:\n            ValueError: If custom object lacks the specified key attribute\n        \"\"\"\n        item_key = self._get_item_key(item)\n        if item_key not in self:\n            super().add(item)\n\n    def update(self, *iterables: Iterable[T]) -&gt; None:\n        \"\"\"\n        Update set by adding multiple elements from one or more iterables.\n\n        Maintains deduplication based on key attribute for custom objects.\n\n        Args:\n            iterables: One or more iterables containing primitives/objects\n\n        Raises:\n            ValueError: If custom objects lack the specified key attribute\n        \"\"\"\n        for iterable in iterables:\n            for item in iterable:\n                self.add(item)\n\n    def get(self, item: Any) -&gt; Optional[T]:\n        \"\"\"\n        Look up and return an element from the set.\n\n        Supports lookup by:\n            - Attribute value (str/int) for custom object collections\n            - Exact value for primitive collections\n            - Object instance for custom object collections\n\n        Args:\n            item: Attribute value (str/int) or object to find\n\n        Returns:\n            Optional[T]: Found element (primitive/object) or None if not found\n        \"\"\"\n        # Custom object collection lookup\n        if self and not isinstance(next(iter(self)), (str, int, float, bool)):\n            if isinstance(item, (str, int, float, bool)):\n                for obj in self:\n                    if self._get_item_key(obj) == item:\n                        return obj\n            else:\n                try:\n                    item_key = self._get_item_key(item)\n                except ValueError:\n                    return None\n                for obj in self:\n                    if self._get_item_key(obj) == item_key:\n                        return obj\n        # Primitive collection lookup\n        else:\n            for obj in self:\n                if obj == item:\n                    return obj\n        return None\n\n    def remove(self, item: Any) -&gt; None:\n        \"\"\"\n        Remove element from set (raises KeyError if not found).\n\n        Supports removal by attribute value (str/int) or object instance.\n\n        Args:\n            item: Attribute value (str/int) or object to remove\n\n        Raises:\n            KeyError: If element is not found in the set\n        \"\"\"\n        target_item = self.get(item)\n        if target_item is None:\n            raise KeyError(item)\n        super().remove(target_item)\n\n    def discard(self, item: Any) -&gt; None:\n        \"\"\"\n        Remove element from set if present (no error if missing).\n\n        Supports removal by attribute value (str/int) or object instance.\n\n        Args:\n            item: Attribute value (str/int) or object to remove\n        \"\"\"\n        target_item = self.get(item)\n        if target_item is not None:\n            super().discard(target_item)\n\n    def pop(self) -&gt; T:\n        \"\"\"\n        Remove and return an arbitrary element from the set.\n\n        Returns:\n            T: Removed element (primitive/object)\n\n        Raises:\n            KeyError: If set is empty\n        \"\"\"\n        if not self:\n            raise KeyError(\"pop from empty Oset\")\n        return super().pop()\n\n    def clear(self) -&gt; None:\n        \"\"\"Remove all elements from the set.\"\"\"\n        super().clear()\n\n    def to_set(self) -&gt; set[Union[str, int, float, bool]]:\n        \"\"\"\n        Convert Oset to standard Python set.\n\n        For custom object collections: Returns set of key attribute values\n        For primitive collections: Returns identical native set\n\n        Returns:\n            set: Standard set containing primitive values or object key attributes\n        \"\"\"\n        return {self._get_item_key(item) for item in self}\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Oset.__contains__","title":"<code>__contains__(item)</code>","text":"<p>Override membership operator ('in') with type-aware logic.</p> Logic <ol> <li>Custom object collection: Check by attribute value (str/int) or object instance</li> <li>Primitive type collection: Maintain native set membership behavior</li> </ol> <p>Parameters:</p> Name Type Description Default <code>item</code> <code>Any</code> <p>Attribute value (str/int) or object to check membership for</p> required <p>Returns:</p> Name Type Description <code>bool</code> <code>bool</code> <p>True if item exists in set, False otherwise</p> Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def __contains__(self, item: Any) -&gt; bool:\n    \"\"\"\n    Override membership operator ('in') with type-aware logic.\n\n    Logic:\n        1. Custom object collection: Check by attribute value (str/int) or object instance\n        2. Primitive type collection: Maintain native set membership behavior\n\n    Args:\n        item: Attribute value (str/int) or object to check membership for\n\n    Returns:\n        bool: True if item exists in set, False otherwise\n    \"\"\"\n    # Check if collection contains custom objects (not primitives)\n    if self and not isinstance(next(iter(self)), (str, int, float, bool)):\n        # Case 1: Check by attribute value (e.g., \"Alice\" for Maker object)\n        if isinstance(item, (str, int, float, bool)):\n            return any(self._get_item_key(obj) == item for obj in self)\n\n        # Case 2: Check by object instance (compare key attributes)\n        else:\n            try:\n                item_key = self._get_item_key(item)\n                print(item_key)\n            except ValueError:\n                return False\n            return any(self._get_item_key(obj) == item_key for obj in self)\n    # Primitive type collection - use native set behavior\n    else:\n        return super().__contains__(item)\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Oset.__eq__","title":"<code>__eq__(other)</code>","text":"<p>Universal equality operator (==) for all Oset types (NO primitive exceptions).</p> <p>Compares key-based native sets for equality, enabling cross-type comparisons: - Oset[Maker] == {\"Alice\", \"Bob\"} - Oset[str] == {\"Alice\", \"Bob\"} - Oset[int] == {1, 2}</p> <p>Parameters:</p> Name Type Description Default <code>other</code> <code>Any</code> <p>Object to compare with (native set, list, tuple, Oset, etc.)</p> required <p>Returns:</p> Name Type Description <code>bool</code> <code>bool</code> <p>True if key-based sets are equal, False otherwise</p> Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def __eq__(self, other: Any) -&gt; bool:\n    \"\"\"\n    Universal equality operator (==) for all Oset types (NO primitive exceptions).\n\n    Compares key-based native sets for equality, enabling cross-type comparisons:\n    - Oset[Maker] == {\"Alice\", \"Bob\"}\n    - Oset[str] == {\"Alice\", \"Bob\"}\n    - Oset[int] == {1, 2}\n\n    Args:\n        other: Object to compare with (native set, list, tuple, Oset, etc.)\n\n    Returns:\n        bool: True if key-based sets are equal, False otherwise\n    \"\"\"\n    # Convert self to key-based native set (works for ALL Oset types)\n    self_key_set = self.to_set()\n\n    # Convert \"other\" to a native set (handle iterables/lists/tuples)\n    if isinstance(other, (set, list, tuple, Oset)):\n        # For Oset instances: use their to_set() method\n        if isinstance(other, Oset):\n            other_key_set = other.to_set()\n        # For native iterables: convert directly to set\n        else:\n            other_key_set = set(other)\n    # For non-iterable objects: return False immediately\n    else:\n        return False\n\n    # Compare key-based sets (universal logic for all types)\n    return self_key_set == other_key_set\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Oset.__init__","title":"<code>__init__(iterable=(), key='name')</code>","text":"<p>Initialize Oset with automatic deduplication based on element type.</p> <p>Parameters:</p> Name Type Description Default <code>iterable</code> <code>Iterable[T]</code> <p>Iterable containing primitive values (str/int) or custom objects (default: empty)</p> <code>()</code> <code>key</code> <code>str</code> <p>Attribute name for uniqueness validation on custom objects (default: \"name\")</p> <code>'name'</code> <p>Raises:</p> Type Description <code>ValueError</code> <p>If custom objects lack the specified key attribute</p> Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def __init__(self, iterable: Iterable[T] = (), key: str = \"name\"):\n    \"\"\"\n    Initialize Oset with automatic deduplication based on element type.\n\n    Args:\n        iterable: Iterable containing primitive values (str/int) or custom objects (default: empty)\n        key: Attribute name for uniqueness validation on custom objects (default: \"name\")\n\n    Raises:\n        ValueError: If custom objects lack the specified key attribute\n    \"\"\"\n    self.key = key\n    unique_items = []\n    seen_keys = set()\n\n    for item in iterable:\n        item_key = self._get_item_key(item)\n        if item_key not in seen_keys:\n            seen_keys.add(item_key)\n            unique_items.append(item)\n\n    super().__init__(unique_items)\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Oset.add","title":"<code>add(item)</code>","text":"<p>Add element to set with automatic deduplication.</p> <p>Parameters:</p> Name Type Description Default <code>item</code> <code>T</code> <p>Primitive value or custom object to add</p> required <p>Raises:</p> Type Description <code>ValueError</code> <p>If custom object lacks the specified key attribute</p> Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def add(self, item: T) -&gt; None:\n    \"\"\"\n    Add element to set with automatic deduplication.\n\n    Args:\n        item: Primitive value or custom object to add\n\n    Raises:\n        ValueError: If custom object lacks the specified key attribute\n    \"\"\"\n    item_key = self._get_item_key(item)\n    if item_key not in self:\n        super().add(item)\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Oset.clear","title":"<code>clear()</code>","text":"<p>Remove all elements from the set.</p> Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def clear(self) -&gt; None:\n    \"\"\"Remove all elements from the set.\"\"\"\n    super().clear()\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Oset.discard","title":"<code>discard(item)</code>","text":"<p>Remove element from set if present (no error if missing).</p> <p>Supports removal by attribute value (str/int) or object instance.</p> <p>Parameters:</p> Name Type Description Default <code>item</code> <code>Any</code> <p>Attribute value (str/int) or object to remove</p> required Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def discard(self, item: Any) -&gt; None:\n    \"\"\"\n    Remove element from set if present (no error if missing).\n\n    Supports removal by attribute value (str/int) or object instance.\n\n    Args:\n        item: Attribute value (str/int) or object to remove\n    \"\"\"\n    target_item = self.get(item)\n    if target_item is not None:\n        super().discard(target_item)\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Oset.get","title":"<code>get(item)</code>","text":"<p>Look up and return an element from the set.</p> Supports lookup by <ul> <li>Attribute value (str/int) for custom object collections</li> <li>Exact value for primitive collections</li> <li>Object instance for custom object collections</li> </ul> <p>Parameters:</p> Name Type Description Default <code>item</code> <code>Any</code> <p>Attribute value (str/int) or object to find</p> required <p>Returns:</p> Type Description <code>Optional[T]</code> <p>Optional[T]: Found element (primitive/object) or None if not found</p> Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def get(self, item: Any) -&gt; Optional[T]:\n    \"\"\"\n    Look up and return an element from the set.\n\n    Supports lookup by:\n        - Attribute value (str/int) for custom object collections\n        - Exact value for primitive collections\n        - Object instance for custom object collections\n\n    Args:\n        item: Attribute value (str/int) or object to find\n\n    Returns:\n        Optional[T]: Found element (primitive/object) or None if not found\n    \"\"\"\n    # Custom object collection lookup\n    if self and not isinstance(next(iter(self)), (str, int, float, bool)):\n        if isinstance(item, (str, int, float, bool)):\n            for obj in self:\n                if self._get_item_key(obj) == item:\n                    return obj\n        else:\n            try:\n                item_key = self._get_item_key(item)\n            except ValueError:\n                return None\n            for obj in self:\n                if self._get_item_key(obj) == item_key:\n                    return obj\n    # Primitive collection lookup\n    else:\n        for obj in self:\n            if obj == item:\n                return obj\n    return None\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Oset.pop","title":"<code>pop()</code>","text":"<p>Remove and return an arbitrary element from the set.</p> <p>Returns:</p> Name Type Description <code>T</code> <code>T</code> <p>Removed element (primitive/object)</p> <p>Raises:</p> Type Description <code>KeyError</code> <p>If set is empty</p> Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def pop(self) -&gt; T:\n    \"\"\"\n    Remove and return an arbitrary element from the set.\n\n    Returns:\n        T: Removed element (primitive/object)\n\n    Raises:\n        KeyError: If set is empty\n    \"\"\"\n    if not self:\n        raise KeyError(\"pop from empty Oset\")\n    return super().pop()\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Oset.remove","title":"<code>remove(item)</code>","text":"<p>Remove element from set (raises KeyError if not found).</p> <p>Supports removal by attribute value (str/int) or object instance.</p> <p>Parameters:</p> Name Type Description Default <code>item</code> <code>Any</code> <p>Attribute value (str/int) or object to remove</p> required <p>Raises:</p> Type Description <code>KeyError</code> <p>If element is not found in the set</p> Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def remove(self, item: Any) -&gt; None:\n    \"\"\"\n    Remove element from set (raises KeyError if not found).\n\n    Supports removal by attribute value (str/int) or object instance.\n\n    Args:\n        item: Attribute value (str/int) or object to remove\n\n    Raises:\n        KeyError: If element is not found in the set\n    \"\"\"\n    target_item = self.get(item)\n    if target_item is None:\n        raise KeyError(item)\n    super().remove(target_item)\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Oset.to_set","title":"<code>to_set()</code>","text":"<p>Convert Oset to standard Python set.</p> <p>For custom object collections: Returns set of key attribute values For primitive collections: Returns identical native set</p> <p>Returns:</p> Name Type Description <code>set</code> <code>set[Union[str, int, float, bool]]</code> <p>Standard set containing primitive values or object key attributes</p> Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def to_set(self) -&gt; set[Union[str, int, float, bool]]:\n    \"\"\"\n    Convert Oset to standard Python set.\n\n    For custom object collections: Returns set of key attribute values\n    For primitive collections: Returns identical native set\n\n    Returns:\n        set: Standard set containing primitive values or object key attributes\n    \"\"\"\n    return {self._get_item_key(item) for item in self}\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.Oset.update","title":"<code>update(*iterables)</code>","text":"<p>Update set by adding multiple elements from one or more iterables.</p> <p>Maintains deduplication based on key attribute for custom objects.</p> <p>Parameters:</p> Name Type Description Default <code>iterables</code> <code>Iterable[T]</code> <p>One or more iterables containing primitives/objects</p> <code>()</code> <p>Raises:</p> Type Description <code>ValueError</code> <p>If custom objects lack the specified key attribute</p> Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def update(self, *iterables: Iterable[T]) -&gt; None:\n    \"\"\"\n    Update set by adding multiple elements from one or more iterables.\n\n    Maintains deduplication based on key attribute for custom objects.\n\n    Args:\n        iterables: One or more iterables containing primitives/objects\n\n    Raises:\n        ValueError: If custom objects lack the specified key attribute\n    \"\"\"\n    for iterable in iterables:\n        for item in iterable:\n            self.add(item)\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.copy_to_clipboard","title":"<code>copy_to_clipboard(string)</code>","text":"<p>Copy to clipboard</p> <p>Parameters:</p> Name Type Description Default <code>string</code> <code>str</code> <p>The string want to be copyed.</p> required Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def copy_to_clipboard(string: str):\n    \"\"\"Copy to clipboard\n\n    Args:\n        string (str): The string want to be copyed.\n    \"\"\"\n\n    pyperclip.copy(string)\n</code></pre>"},{"location":"apis/utils/#omoospace.utils.make_path","title":"<code>make_path(*paths, under='.', overwrite=False)</code>","text":"<p>Create paths.</p> <p>Parameters:</p> Name Type Description Default <code>paths</code> <code>list[Union[str, dict[str, str]]]</code> <p>The paths want to be created.</p> <code>()</code> <code>under</code> <code>AnyPath</code> <p>The parent directory. Defaults to \".\".</p> <code>'.'</code> Source code in <code>src\\omoospace\\utils.py</code> <pre><code>def make_path(\n    *paths: list[Union[str, dict[str, str]]],\n    under: AnyPath = \".\",\n    overwrite: bool = False,\n):\n    \"\"\"Create paths.\n\n    Args:\n        paths (list[Union[str, dict[str, str]]]): The paths want to be created.\n        under (AnyPath, optional): The parent directory. Defaults to \".\".\n    \"\"\"\n    maked_paths = []\n    for p in paths:\n        if isinstance(p, str):\n            maked_path = Opath(under, p).resolve()\n            if p.endswith(\"/\"):\n                maked_path.mkdir(parents=True, exist_ok=True)\n            else:\n                maked_path.parent.mkdir(parents=True, exist_ok=True)\n                if maked_path.exists() and overwrite:\n                    maked_path.remove()\n\n                if not maked_path.exists():\n                    maked_path.touch()\n\n            maked_paths.append(maked_path)\n\n        else:\n            for path, content in p.items():\n                maked_path = Opath(under, path).resolve()\n                maked_path.parent.mkdir(parents=True, exist_ok=True)\n                if maked_path.exists() and overwrite:\n                    maked_path.remove()\n\n                if not maked_path.exists():\n                    maked_path.touch()\n                    if content is None:\n                        continue\n                    with maked_path.open(\"w\", encoding=\"utf-8\") as f:\n                        f.write(content)\n\n                maked_paths.append(maked_path)\n\n    return tuple(maked_paths) if len(maked_paths) &gt; 1 else maked_paths[0]\n</code></pre>"},{"location":"apis/validators/","title":"Validators","text":""},{"location":"apis/validators/#omoospace.validators.is_ignore","title":"<code>is_ignore(path, ignore)</code>","text":"<p>Check if a path should be ignored (gitignore style)</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>str</code> <p>Path to check</p> required <code>ignore</code> <code>Union[str, List[str]]</code> <p>List of ignore patterns or a single pattern string</p> required <p>Returns:</p> Name Type Description <code>bool</code> <code>bool</code> <p>True if the path matches any ignore pattern, False otherwise</p> Source code in <code>src\\omoospace\\validators.py</code> <pre><code>def is_ignore(path: str, ignore: Union[str, List[str]]) -&gt; bool:\n    \"\"\"Check if a path should be ignored (gitignore style)\n\n    Args:\n        path: Path to check\n        ignore: List of ignore patterns or a single pattern string\n\n    Returns:\n        bool: True if the path matches any ignore pattern, False otherwise\n    \"\"\"\n    # Convert single string to list\n    if isinstance(ignore, str):\n        ignore = [ignore]\n\n    # Normalize path separators to forward slashes\n    path = path.replace(\"\\\\\", \"/\")\n\n    # Remove trailing slash unless it's the root directory\n    if path != \"/\" and path.endswith(\"/\"):\n        path = path.rstrip(\"/\")\n\n    # Iterate through all ignore patterns\n    for pattern in ignore:\n        # Skip empty patterns\n        if not pattern or pattern.strip() == \"\":\n            continue\n\n        # Normalize pattern separators\n        pattern = pattern.replace(\"\\\\\", \"/\")\n\n        # Remove trailing slash from pattern unless it's the root directory\n        if pattern != \"/\" and pattern.endswith(\"/\"):\n            pattern = pattern.rstrip(\"/\")\n\n        # Case 1: Exact match of the entire path\n        if fnmatch.fnmatch(path, pattern):\n            return True\n\n        # Case 2: Pattern matches a directory in the path (e.g., \"content\" matches \"content/file.txt\")\n        path_parts = path.split(\"/\")\n        for i in range(len(path_parts)):\n            partial_path = \"/\".join(path_parts[: i + 1])\n            if fnmatch.fnmatch(partial_path, pattern):\n                return True\n\n        # Case 3: Directory pattern (with /* suffix added)\n        if fnmatch.fnmatch(path, f\"{pattern}/*\"):\n            return True\n\n    return False\n</code></pre>"}]}